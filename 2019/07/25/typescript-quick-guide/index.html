<!doctype html><html lang=zh><head><meta name=viewport content="width=device-width,initial-scale=1"><title>TS简明教程(1)</title>
<meta charset=utf-8><meta name=description content="Ladder@本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。
TypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。 TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。 Typescript由微软开发，与C#出自同一人之手!"><meta name=author content="Lei Xia"><link rel=canonical href=https://www.ddhigh.com/2019/07/25/typescript-quick-guide/><link rel=alternate type=application/rss+xml href=https://www.ddhigh.com//index.xml title="Lei Xia"><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "83e2684cb8854043b1ac1ad37870015e"}'></script><meta property="og:title" content="TS简明教程(1)"><meta property="og:description" content="本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。
TypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。 TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。 Typescript由微软开发，与C#出自同一人之手!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.ddhigh.com/2019/07/25/typescript-quick-guide/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-07-25T22:01:54+00:00"><meta property="article:modified_time" content="2019-07-25T22:01:54+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="TS简明教程(1)"><meta name=twitter:description content="本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。
TypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。 TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。 Typescript由微软开发，与C#出自同一人之手!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.ddhigh.com/posts/"},{"@type":"ListItem","position":2,"name":"TS简明教程(1)","item":"https://www.ddhigh.com/2019/07/25/typescript-quick-guide/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"TS简明教程(1)","name":"TS简明教程(1)","description":"本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。\nTypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。 TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。 Typescript由微软开发，与C#出自同一人之手!","keywords":[],"articleBody":"本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。\nTypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。 TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。 Typescript由微软开发，与C#出自同一人之手!\nTS与JS的区别 TS是JS的超集，扩展了TS的语法，因此现有的JS代码可直接与TS一起工作无需任何修改，TS通过类型注解提供编译时的静态类型检查。\n由于TS与JS语法大部分一致，本文只对有差异的部分进行讲解。\n目录 有些知识点可能是交叉的\b建议通读完本文再开始真正的开发，这样疑惑会比较少一点\n数据类型与类型断言 函数 接口和类 泛型 枚举 命名空间和模块 装饰器(注解) 高级类型 声明文件 tsconfig.json 示例 React示例(前端) Koa示例(后端) 数据类型与类型声明 TS使用:语法对类型进行声明。基础类型如下：\n布尔类型 TS使用boolean来声明布尔类型。\nlet succeed: boolean = false; // 声明succeed为boolean类型 数字 TS对数字的支持与JS一致，所有数字都是浮点数，所以TS并不存在int,float之类的数字类型声明，只有number。 除了支持十进制和十六进制，TS还支持ES6的二进制和八进制数字。\nconst age: number = 16; // 声明年龄为数字类型 const price: number = 99.99; // 声明价格为数字类型 字符串 TS使用string声明字符串，和JS一样，支持单引号和双引号。\nlet name: string = \"demo\"; name = \"demo1\"; const description = `我是${name}`; // ES6语法 数组 TS使用类型[]声明数组的元素类型，与JS不一样的地方在于，TS中一旦指明一个类型，所有元素必须是该类型。JS则可以往数组放任意类型的元素。\nconst numbers: number[] = []; numbers.push(1); numbers.push(2); numbers.push('3'); // 错误，'3'不是数字类型 对象 与JS一样，TS的对象也是由键值对构成，类型声明可以分别作用与键类型以及值类型。\n声明语法：{[key名称: key类型]: 值类型} key名称可以自定义，如key,index都是合法的。\nconst config: {[key: string]: string} = {}; // 声明键和值都只能是字符串类型 config.version = '1.0.0'; const ages: {[key: number]: number} = {}; // 声明键值对都是数字类型 ages[10] = '1.0.0'; // 赋值 上例中赋值语法虽然和数组一致，但是ages对象的长度为1，如果ages是数组的话，长度为11。(0-9个元素为undefined)\n任意类型 TS用any用来声明任意类型，被any修饰的变量(或常量以及返回值等等)在编译阶段会直接通过，但是运行阶段可能会抛出undefined或null相关错误。\nany的出现使得现有的JS代码能够很快速的切换到TS。\nlet age:any = 10; age = 'name'; // 编译通过 空类型 TS使用void声明空类型。与any相反，表示没有任何类型，常用在函数返回值中。 void类型只能被赋值为null和undefined。\nfunction test(name: string): void { // 声明函数无返回值，编译成JS之后取返回值会取到undefined，与JS一致 console.log(name); } let v: void = null; null和undefined TS中默认情况下，null和undefined是所有类型的子类型，换句话说，你可以把null和undefined直接赋值给number/string/boolean等类型。 但是不能反过来干，你不能把number/string/boolean类型赋值给null或者undefined\nlet u: undefined = undefined; let n: null = null; never never是100%不存在的值的类型。比如函数中直接抛出异常或者有死循环。\nfunction error(message: string): never { throw new Error(message); } function fail() { // TS自动类型推断返回值类型为never，类型推断在下文中会提到 return error('failed'); } function loop(): never { // 死循环，肯定不会返回 while(true) {} } never和void区别\n被void修饰的函数能正常终止，只不过没有返回值 被never修饰的函数不能正常终止，如抛出异常或死循环 枚举 枚举是对JS的一个扩展。TS使用enum关键字定义枚举类型。\nenum Color { Red, Green, Yellow } let c: Color = Color.Red; Object TS使用object类修饰对象类型，TS中表示非原始类型。原始类型如下：\nnumber string boolean null undefined symbol(ES6新出类型) let a: object = {}; // ok let a: object = 1; // error let a: object = Symbol(); / error 虽然Symbol长得像对象类型，不过在ES6规范中，人家就是原始类型。\n函数声明 TS中可以对函数的形参以及返回值进行类型声明。\nfunction a(name: string, age: number): string { return `name:${name},age:${age}`; } 类型断言 类型断言说白了就是告诉编译器，你按照我指定的类型进行处理。\nlet value: any = 'a string'; const length: number = (\u003cstring\u003evalue).length; 编译结果(正常编译且正常运行)\nlet value = 'a string'; const length = value.length; 类型推断 当没有手动指定类型时，TS编译器利用类型推断来推断类型。 如果由于缺乏声明而不能推断出类型，那么它的类型被视作默认的动态 any 类型。\nlet num = 2; // 推断为number类型 函数 TS函数与JS函数没有大的区别，多了一个类型系统。\nfunction test(name: string) { // 自动推断返回类型为string return name; } 可选参数 TS中函数每个形参都是必须的，当然你可以传递null和undefined，因为他们是值。但是在JS中，每个形参都是可选的，没传的情况下取值会得到undefined。 TS中在参数名后面使用?号指明该参数为可选参数\nfunction test(name: string, age?: number) { console.log(`${name}:${age}`); } test('a'); // 输出 a:undefined 默认参数 与ES6一致，TS也的函数也支持默认参数。需要注意的是可选参数和默认参数是互斥的。因为如果使用了默认参数，不管外部传不传值，取值的时候都是有值的，和可选参数矛盾。\nfunction test(name: string, age: number = 10) { console.log(`${name}:${age}`) } test('a'); // 输出 a:10 剩余参数 剩余参数和ES6表现一致，但是多了类型声明：\nfunction test(name1: string, ...names: string[]) { console.log(name1, names); } test('1','2','3');// 输出 1 ['2', '3'] this执行 TS中this指向和JS一致，这里不做赘述。\n结语 未完待续~\n","wordCount":"339","inLanguage":"zh","datePublished":"2019-07-25T22:01:54Z","dateModified":"2019-07-25T22:01:54Z","author":{"@type":"Person","name":"Lei Xia"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ddhigh.com/2019/07/25/typescript-quick-guide/"},"publisher":{"@type":"Organization","name":"Lei Xia","logo":{"@type":"ImageObject","url":"https://www.ddhigh.com/favicon.ico"}}}</script><link rel=icon href=/img/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/img/favicon.ico><link rel=manifest href=/img/favicon.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.eb16e2c37edda7bb7b8f844336c65138877ea26f51562d3d69efff7f073bff83.css integrity="sha256-6xbiw37dp7t7j4RDNsZROId+om9RVi09ae//fwc7/4M=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>$darkModeInit.Content|safeJS</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>归档</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/books>出版物</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/guestbook>留言板</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/xialeistudio><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://www.ddhigh.com/en/>EN</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>TS简明教程(1)</h1></header><p><small>2019年7月25日&nbsp;· 339 字&nbsp;· 2 分钟</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#ts与js的区别>TS与JS的区别</a></li><li><a href=#目录>目录</a></li><li><a href=#数据类型与类型声明>数据类型与类型声明</a><ul><li><a href=#布尔类型>布尔类型</a></li><li><a href=#数字>数字</a></li><li><a href=#字符串>字符串</a></li><li><a href=#数组>数组</a></li><li><a href=#对象>对象</a></li><li><a href=#任意类型>任意类型</a></li><li><a href=#空类型>空类型</a></li><li><a href=#null和undefined>null和undefined</a></li><li><a href=#never>never</a></li><li><a href=#枚举>枚举</a></li><li><a href=#object>Object</a></li><li><a href=#函数声明>函数声明</a></li><li><a href=#类型断言>类型断言</a></li><li><a href=#类型推断>类型推断</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#可选参数>可选参数</a></li><li><a href=#默认参数>默认参数</a></li><li><a href=#剩余参数>剩余参数</a></li><li><a href=#this执行>this执行</a></li></ul></li><li><a href=#结语>结语</a></li></ul></nav></div><section class=blog-content><p>本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。</p><blockquote><p>TypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。
TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。
Typescript由微软开发，与C#出自同一人之手!</p></blockquote><h2 id=ts与js的区别>TS与JS的区别</h2><blockquote><p>TS是JS的超集，扩展了TS的语法，因此现有的JS代码可<code>直接与TS一起工作无需任何修改</code>，TS通过类型注解提供编译时的静态类型检查。</p></blockquote><p>由于TS与JS语法大部分一致，本文只对有差异的部分进行讲解。</p><h2 id=目录>目录</h2><p>有些知识点可能是交叉的建议通读完本文再开始真正的开发，这样疑惑会比较少一点</p><ol><li>数据类型与类型断言</li><li>函数</li><li>接口和类</li><li>泛型</li><li>枚举</li><li>命名空间和模块</li><li>装饰器(注解)</li><li>高级类型</li><li>声明文件</li><li>tsconfig.json</li><li>示例<ol><li>React示例(前端)</li><li>Koa示例(后端)</li></ol></li></ol><h2 id=数据类型与类型声明>数据类型与类型声明</h2><p>TS使用<code>:</code>语法对类型进行声明。基础类型如下：</p><h3 id=布尔类型>布尔类型</h3><p>TS使用<code>boolean</code>来声明布尔类型。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>succeed</span>: <span style=color:#66d9ef>boolean</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>; <span style=color:#75715e>// 声明succeed为boolean类型
</span></span></span></code></pre></div><h3 id=数字>数字</h3><p>TS对数字的支持与JS一致，所有数字都是浮点数，所以TS并不存在<code>int</code>,<code>float</code>之类的数字类型声明，只有<code>number</code>。
除了支持十进制和十六进制，TS还支持ES6的二进制和八进制数字。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>age</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>16</span>; <span style=color:#75715e>// 声明年龄为数字类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>price</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>99.99</span>; <span style=color:#75715e>// 声明价格为数字类型
</span></span></span></code></pre></div><h3 id=字符串>字符串</h3><p>TS使用<code>string</code>声明字符串，和JS一样，支持<code>单引号</code>和<code>双引号</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;demo&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;demo1&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>description</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`我是</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>; <span style=color:#75715e>// ES6语法
</span></span></span></code></pre></div><h3 id=数组>数组</h3><p>TS使用<code>类型[]</code>声明数组的元素类型，与JS不一样的地方在于，<code>TS</code>中一旦指明一个类型，所有元素必须是该类型。<code>JS</code>则可以往数组放任意类型的元素。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numbers</span>: <span style=color:#66d9ef>number</span>[] <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#a6e22e>numbers</span>.<span style=color:#a6e22e>push</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>numbers</span>.<span style=color:#a6e22e>push</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>numbers</span>.<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>&#39;3&#39;</span>); <span style=color:#75715e>// 错误，&#39;3&#39;不是数字类型
</span></span></span></code></pre></div><h3 id=对象>对象</h3><p>与JS一样，TS的对象也是由<code>键值对</code>构成，类型声明可以分别作用与<code>键类型</code>以及<code>值类型</code>。</p><p>声明语法：<code>{[key名称: key类型]: 值类型}</code>
key名称可以<code>自定义</code>，如<code>key</code>,<code>index</code>都是合法的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>config</span><span style=color:#f92672>:</span> {[<span style=color:#a6e22e>key</span>: <span style=color:#66d9ef>string</span>]<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span>} <span style=color:#f92672>=</span> {}; <span style=color:#75715e>// 声明键和值都只能是字符串类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>config</span>.<span style=color:#a6e22e>version</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;1.0.0&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ages</span><span style=color:#f92672>:</span> {[<span style=color:#a6e22e>key</span>: <span style=color:#66d9ef>number</span>]<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>} <span style=color:#f92672>=</span> {}; <span style=color:#75715e>// 声明键值对都是数字类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ages</span>[<span style=color:#ae81ff>10</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;1.0.0&#39;</span>; <span style=color:#75715e>// 赋值
</span></span></span></code></pre></div><p>上例中赋值语法虽然和数组一致，但是ages对象的长度为1，如果ages是数组的话，长度为11。(0-9个元素为undefined)</p><h3 id=任意类型>任意类型</h3><p>TS用<code>any</code>用来声明<code>任意类型</code>，被<code>any</code>修饰的变量(或常量以及返回值等等)在编译阶段会<code>直接通过</code>，但是运行阶段可能会<code>抛出undefined或null相关错误</code>。</p><p><code>any</code>的出现使得现有的JS代码能够很快速的切换到TS。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>age</span>:<span style=color:#66d9ef>any</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;name&#39;</span>; <span style=color:#75715e>// 编译通过
</span></span></span></code></pre></div><h3 id=空类型>空类型</h3><p>TS使用<code>void</code>声明空类型。与<code>any</code>相反，表示没有任何类型，常用在函数返回值中。
<code>void</code>类型只能被赋值为<code>null</code>和<code>undefined</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> { <span style=color:#75715e>// 声明函数无返回值，编译成JS之后取返回值会取到undefined，与JS一致
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>name</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>v</span>: <span style=color:#66d9ef>void</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span></code></pre></div><h3 id=null和undefined>null和undefined</h3><p>TS中<code>默认情况</code>下，<code>null</code>和<code>undefined</code>是所有类型的子类型，换句话说，你可以把<code>null</code>和<code>undefined</code>直接赋值给<code>number</code>/<code>string</code>/<code>boolean</code>等类型。
但是不能反过来干，你不能把<code>number</code>/<code>string</code>/<code>boolean</code>类型赋值给<code>null</code>或者<code>undefined</code></p><pre tabindex=0><code>let u: undefined = undefined;
let n: null = null;
</code></pre><h3 id=never>never</h3><p><code>never</code>是<code>100%不存在的值</code>的类型。比如函数中直接抛出异常或者有死循环。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>message</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>never</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fail() {</span> <span style=color:#75715e>// TS自动类型推断返回值类型为never，类型推断在下文中会提到
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;failed&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>loop</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>never</span> { <span style=color:#75715e>// 死循环，肯定不会返回
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>while</span>(<span style=color:#66d9ef>true</span>) {} 
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>never</code>和<code>void</code>区别</p><ol><li>被<code>void</code>修饰的函数<code>能正常终止，只不过没有返回值</code></li><li>被<code>never</code>修饰的函数<code>不能正常终止，如抛出异常或死循环</code></li></ol><h3 id=枚举>枚举</h3><p>枚举是对JS的一个扩展。TS使用<code>enum</code>关键字定义枚举类型。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>Color</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Red</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Green</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Yellow</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c</span>: <span style=color:#66d9ef>Color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Color</span>.<span style=color:#a6e22e>Red</span>;
</span></span></code></pre></div><h3 id=object>Object</h3><p>TS使用<code>object</code>类修饰对象类型，TS中表示<code>非原始类型</code>。原始类型如下：</p><ol><li>number</li><li>string</li><li>boolean</li><li>null</li><li>undefined</li><li>symbol(ES6新出类型)</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span>: <span style=color:#66d9ef>object</span> <span style=color:#f92672>=</span> {}; <span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span>: <span style=color:#66d9ef>object</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#75715e>// error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span>: <span style=color:#66d9ef>object</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>(); <span style=color:#960050;background-color:#1e0010>/ error</span>
</span></span></code></pre></div><p>虽然<code>Symbol</code>长得像<code>对象类型</code>，不过在<code>ES6</code>规范中，人家就是<code>原始类型</code>。</p><h3 id=函数声明>函数声明</h3><p>TS中可以对函数的<code>形参</code>以及<code>返回值</code>进行类型声明。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>a</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>age</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`name:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>,age:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>age</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=类型断言>类型断言</h3><p>类型断言说白了就是<code>告诉编译器，你按照我指定的类型进行处理</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>value</span>: <span style=color:#66d9ef>any</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a string&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>length</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> (&lt;<span style=color:#f92672>string</span>&gt;<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>length</span>;
</span></span></code></pre></div><p>编译结果(正常编译且正常运行)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a string&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>length</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>length</span>;
</span></span></code></pre></div><h3 id=类型推断>类型推断</h3><p>当没有手动指定类型时，TS编译器利用类型推断来推断类型。
如果由于缺乏声明而不能推断出类型，那么它的类型被视作默认的动态 any 类型。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>num</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; <span style=color:#75715e>// 推断为number类型
</span></span></span></code></pre></div><h2 id=函数>函数</h2><p>TS函数与JS函数没有大的区别，多了一个类型系统。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>) { <span style=color:#75715e>// 自动推断返回类型为string
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>name</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=可选参数>可选参数</h3><p>TS中函数每个形参都是<code>必须</code>的，当然你可以传递<code>null</code>和<code>undefined</code>，因为<code>他们是值</code>。但是在JS中，每个形参都是可选的，没传的情况下取值会得到<code>undefined</code>。
TS中<code>在参数名后面使用?号指明该参数为可选参数</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>age?</span>: <span style=color:#66d9ef>number</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>age</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;a&#39;</span>); <span style=color:#75715e>// 输出 a:undefined
</span></span></span></code></pre></div><h3 id=默认参数>默认参数</h3><p>与ES6一致，TS也的函数也支持默认参数。需要注意的是<code>可选参数</code>和<code>默认参数</code>是<code>互斥</code>的。因为如果使用了默认参数，不管外部传不传值，取值的时候都是有值的，和可选参数矛盾。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>age</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>age</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;a&#39;</span>); <span style=color:#75715e>// 输出 a:10
</span></span></span></code></pre></div><h3 id=剩余参数>剩余参数</h3><p>剩余参数和ES6表现一致，但是多了类型声明：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>name1</span>: <span style=color:#66d9ef>string</span>, ...<span style=color:#a6e22e>names</span>: <span style=color:#66d9ef>string</span>[]) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>name1</span>, <span style=color:#a6e22e>names</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;1&#39;</span>,<span style=color:#e6db74>&#39;2&#39;</span>,<span style=color:#e6db74>&#39;3&#39;</span>);<span style=color:#75715e>// 输出 1 [&#39;2&#39;, &#39;3&#39;]
</span></span></span></code></pre></div><h3 id=this执行>this执行</h3><p>TS中this指向和JS一致，这里不做赘述。</p><h2 id=结语>结语</h2><p>未完待续~</p><div style="margin-top:2em;border:1px solid #d3d3d3;background-color:#f7f7f7"><ul><li style=margin-bottom:.5em>本文作者: <a href=https://ddhigh.com/ target=_blank style=color:#000;text-decoration:none>xialeistudio</a></li><li style=margin-bottom:.5em>本文链接: <a href=https://www.ddhigh.com/2019/07/25/typescript-quick-guide/ target=_blank style=color:#000;text-decoration:none>TS简明教程(1)</a></li><li>版权声明: <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank style=color:#000;text-decoration:none>「署名-非商业性使用-相同方式共享 4.0 国际」</a></li></ul></div></section><div class=paginator><a class=prev href=https://www.ddhigh.com/2019/07/26/react-decorator-example/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>使用Typescript装饰器来劫持React组件</span></a>
<a class=next href=https://www.ddhigh.com/2019/07/25/nodejs-guide-next-step/><span>NodeJs简明教程(11) - 完结篇</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","xialeistudio/discussion"),s.setAttribute("data-repo-id","R_kgDOKurTRA"),s.setAttribute("data-category","General"),s.setAttribute("data-category-id","DIC_kwDOKurTRM4CbCJt"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","bottom"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","en"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></div><footer class=footer><p>&copy; 2014 - 2024 <a href=https://www.ddhigh.com/>Lei Xia</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>