<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Posts</title>
<meta charset=utf-8><meta name=description content="Ladder@Posts - Lei Xia"><meta name=author content="Lei Xia"><link rel=canonical href=https://www.ddhigh.com/posts/><link rel=alternate type=application/rss+xml href=https://www.ddhigh.com//index.xml title="Lei Xia"><meta property="og:title" content="Posts"><meta property="og:description" content="Learning & Writing & Sharing"><meta property="og:type" content="website"><meta property="og:url" content="https://www.ddhigh.com/posts/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Learning & Writing & Sharing"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.ddhigh.com/posts/"}]}</script><link rel=icon href=/img/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/img/favicon.ico><link rel=manifest href=/img/favicon.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.5dd042a107aa191c819948e5648b04844bec5bdd365fdcf2b880177ce3d89b79.css integrity="sha256-XdBCoQeqGRyBmUjlZIsEhEvsW902X9zyuIAXfOPYm3k=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/books>Books</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/guestbook>Guestbook</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/xialeistudio><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li></ul></section></nav><div id=content><div class=blog-wrapper><div><div class=blog-list><article><div class=blog-card><h3><a href=/2019/07/25/typescript-quick-guide/>TS简明教程(1)</a></h3><p><small>July 25, 2019&nbsp;· 339 words&nbsp;· 2 min</small><p>本文是TS简明教程的第一篇，对TS做简要介绍、基础知识以及后续内容规划。
TypeScript是JavaScript的一个超集，支持 ECMAScript 6 标准。 TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。 Typescript由微软开发，与C#出自同一人之手!
TS与JS的区别 TS是JS的超集，扩展了TS的语法，因此现有的JS代码可直接与TS一起工作无需任何修改，TS通过类型注解提供编译时的静态类型检查。
由于TS与JS语法大部分一致，本文只对有差异的部分进行讲解。
目录 有些知识点可能是交叉的建议通读完本文再开始真正的开发，这样疑惑会比较少一点
数据类型与类型断言 函数 接口和类 泛型 枚举 命名空间和模块 装饰器(注解) 高级类型 声明文件 tsconfig.json 示例 React示例(前端) Koa示例(后端) 数据类型与类型声明 TS使用:语法对类型进行声明。基础类型如下：
布尔类型 TS使用boolean来声明布尔类型。
let succeed: boolean = false; // 声明succeed为boolean类型 数字 TS对数字的支持与JS一致，所有数字都是浮点数，所以TS并不存在int,float之类的数字类型声明，只有number。 除了支持十进制和十六进制，TS还支持ES6的二进制和八进制数字。
const age: number = 16; // 声明年龄为数字类型 const price: number = 99.99; // 声明价格为数字类型 字符串 TS使用string声明字符串，和JS一样，支持单引号和双引号。
let name: string = "demo"; name = "demo1"; const description = `我是${name}`; // ES6语法 数组 TS使用类型[]声明数组的元素类型，与JS不一样的地方在于，TS中一旦指明一个类型，所有元素必须是该类型。JS则可以往数组放任意类型的元素。</div></article><article><div class=blog-card><h3><a href=/2019/07/25/nodejs-guide-next-step/>NodeJs简明教程(11) - 完结篇</a></h3><p><small>July 25, 2019&nbsp;· 22 words&nbsp;· One minute</small><p>本文是NodeJs简明教程的完结篇，将对以往文章进行归档。
系列文章 NodeJs简明教程(1)——简介 NodeJs简明教程(2)——安装 NodeJs简明教程(3)——HTTP服务器 NodeJs简明教程(4)——文件系统 NodeJs简明教程(5)——路径 NodeJs简明教程(6)——加解密 NodeJs简明教程(7)——事件 NodeJs简明教程(8)——子进程 NodeJs简明教程(9)——TCP开发 NodeJs简明教程(10)——UDP开发 接下来的内容 Typescript语言基础 NodeJs常用第三方模块(缓存、数据库、通用连接池、消息队列等等) koa 专题 express 专题 nestjs 专题 欢迎持续关注~</div></article><article><div class=blog-card><h3><a href=/2019/07/25/nodejs-guide-dgram/>NodeJs简明教程(10)</a></h3><p><small>July 25, 2019&nbsp;· 125 words&nbsp;· One minute</small><p>本文是NodeJs简明教程的第十篇，将介绍NodeJs dgram 模块(UDP服务端/客户端)相关的基本操作。
啥是UDP Internet 协议集支持一个无连接的传输协议，该协议称为用户数据报协议（UDP，User Datagram Protocol）。UDP 为应用程序提供了一种无需建立连接就可以发送封装的 IP 数据报的方法。RFC 768描述了 UDP。
NodeJs使用dgram模块实现UDP服务端/客户端相关功能。
dgram.createSocket用来创建一个Socket对象，可以基于该套接口接收或发送数据。该方法原型如下：
dgram.createSocket(type[, callback])
type &lt;string> socket类型。udp4或udp6，对应ipv4和ipv6 callback &lt;Function> 接收到消息时的回调函数 Echo服务端开发 server.js
const dgram = require('dgram'); const socket = dgram.createSocket('udp4'); socket.on('error', function(err) { // 监听socket错误 console.log('服务器错误', err); socket.close(); }); socket.on('message',function(msg,sender) { // 监听收到数据 console.log('%s:%d => %s', sender.address,sender.port,msg.toString()); // 打印该数据包详情 socket.send('socket: '+msg.toString(),sender.port,sender.address,function(err) { // 发送数据给来源地址 if(err) { console.log('回复%s:%d失败: %s',sender.address,sender.port,err.message); return; } }); }); socket.bind(10000, function() { // 监听UDP端口 console.</div></article><article><div class=blog-card><h3><a href=/2019/07/24/nodejs-guide-net/>NodeJs简明教程(9)</a></h3><p><small>July 24, 2019&nbsp;· 200 words&nbsp;· One minute</small><p>本文是NodeJs简明教程的第九篇，将介绍NodeJs net 模块(TCP服务端/客户端)相关的基本操作。
啥是TCP 传输控制协议（TCP，Transmission Control Protocol）是一种面向连接的、可靠的、基于字节流的传输层通信协议，由IETF的RFC 793 定义。
NodeJs使用net模块实现TCP服务端/客户端相关功能。
Echo服务器开发 Echo服务器就是客户端发送什么，服务端就显示什么的一种服务端程序。主要为了调试网络和协议是否正常工作。
net.createServer用来创建一个服务端，该方法原型如下：
net.createServer([options][, connectionlistener]): net.Server
options &lt;Object> allowHalfOpen &lt;boolean> 表明是否允许半开的 TCP 连接。默认值: false。 pauseOnConnect &lt;boolean> 表明是否应在传入连接上暂停套接字。默认值: false。 connectionListener &lt;Function> 客户端连接事件监听器。回调参数为Socket(可以视为一个客户端连接) 返回值为net.Server，net.Server主要方法如下：
server.listen([port[, host[, backlog]]][, callback])
port &lt;number> 监听端口 host &lt;string> 监听主机 backlog &lt;number> 待连接队列的最大长度 callback &lt;Function> 监听成功回调函数 server.js
const net = require('net'); const server = net.createServer(function (client) { // 创建服务端 console.log(client.address().address, '连接成功'); // 客户端连接成功时打印客户端地址 client.on('error', function (e) { console.log(client.address().address, ' error >> ', e.</div></article><article><div class=blog-card><h3><a href=/2019/07/23/nodejs-guide-child-process/>NodeJs简明教程(8)</a></h3><p><small>July 23, 2019&nbsp;· 384 words&nbsp;· 2 min</small><p>本文是NodeJs简明教程的第八篇，将介绍NodeJs 子进程 模块相关的基本操作。
child_process 模块提供了衍生子进程的能力（以一种与 popen(3) 类似但不相同的方式）。
NodeJs的JS线程虽然是单线程，不能利用多核CPU，也不能执行CPU密集型的任务，但是通过派生子进程的形式加上IPC(进程间通信)，可以充分利用多核CPU。
spawn spawn可以执行指定的命令，spawn的函数原型如下：
child_process.spawn(command[,args][,options]) command &lt;string> 要执行的命令 args &lt;string[]> 传给命令的参数列表 options &lt;Object> 额外选项 cwd &lt;string> 子进程workdir env &lt;Object> 子进程环境变量 const { spawn } = require('child_process'); const ls = spawn('ls', ['-lh', '/usr']); // 命令配置 ls.stdout.on('data', (data) => { // 监听命令执行的标准输出 console.log(`stdout: ${data}`); }); ls.stderr.on('data', (data) => { // 监听命令执行的标准错误输出 console.log(`stderr: ${data}`); }); ls.on('close', (code) => { // 监听子进程退出 console.log(`子进程退出，使用退出码 ${code}`); }); 以上例程输出(不同机器输出可能不一样)
stdout: total 0 drwxr-xr-x 970 root wheel 30K 7 19 23:00 bin drwxr-xr-x 306 root wheel 9.</div></article><article><div class=blog-card><h3><a href=/2019/07/22/nodejs-guide-events/>NodeJs简明教程(7)</a></h3><p><small>July 22, 2019&nbsp;· 236 words&nbsp;· 2 min</small><p>本文是NodeJs简明教程的第七篇，将介绍NodeJs events模块相关的基本操作。
大多数 Node.js 核心 API 构建于惯用的异步事件驱动架构，其中某些类型的对象（又称触发器，Emitter）会触发命名事件来调用函数（又称监听器，Listener）。
快速开始 使用事件监听器一般包含以下操作：
新建事件监听器实例 设置监听函数 触发事件 const EventEmitter = require('events'); // 引用模块 class MyEmitter extends EventEmitter {} // 初始化监听器 const myEmitter = new MyEmitter(); myEmitter.on('event', () => { // 设置监听函数 console.log('an event occurred!'); }); myEmitter.emit('event'); // 触发事件 以上例程会输出an event occurred!
一次性事件监听 上文中的监听方式事件触发几次就会输出几次an event occurred!，有些事件可能是一次性的。这时候可以使用once监听。
const EventEmitter = require('events'); // 引用模块 class MyEmitter extends EventEmitter {} // 初始化监听器 const myEmitter = new MyEmitter(); myEmitter.once('event', () => { // 设置监听函数 console.</div></article><article><div class=blog-card><h3><a href=/2019/07/21/nodejs-guide-crypto/>NodeJs简明教程(6)</a></h3><p><small>July 21, 2019&nbsp;· 246 words&nbsp;· 2 min</small><p>本文是NodeJs简明教程的第六篇，将介绍NodeJs crypto模块相关的基本操作。
crypto 模块提供了加密功能，包括对 OpenSSL 的哈希、HMAC、加密、解密、签名、以及验证功能的一整套封装。
Hash Hash类是用于创建数据哈希值的工具类。
哈希算法严格来说并不属于加密算法，传统意义上的 加密 是与 解密 相配对的。哈希算法能够保证被哈希的内容不被篡改。针对任意长度的输入数据都可以产生固定位数的哈希值。
crypto模块对hash的操作是一致的，除了算法名不一致之外，本文以 md5 和 sha1 作为示例。
MD5 const crypto = require('crypto'); const hash = crypto.createHash('md5'); // 创建MD5 hash示例 hash.update('111111'); // 待计算hash的数据 console.log(hash.digest('hex')); 以上例程输出 96e79218965eb72c92a549dd5a330112
SHA1 const crypto = require('crypto'); const hash = crypto.createHash('sha1'); // 创建MD5 hash示例 hash.update('111111'); // 待计算hash的数据 console.log(hash.digest('hex')); 以上例程输出 3d4f2bf07dc1be38b20cd6e46949a1071f9d0e3d
Base64 Base64并不是crypto模块的成员，但是跟本节内容比较相近，所以放过来了。Base64是一套编码算法，常用在二进制数据编码上。
Base64编码 const data = '111111'; const encodedData = Buffer.from(data, 'utf8').toString('base64'); // 输入编码为utf8,输出为base64 console.log(encodedData); 以上例程输出 MTExMTEx</div></article><article><div class=blog-card><h3><a href=/2019/07/20/nodejs-guide-path/>NodeJs简明教程(5)</a></h3><p><small>July 20, 2019&nbsp;· 231 words&nbsp;· 2 min</small><p>本文是NodeJs简明教程的第五篇，将介绍NodeJs path模块相关的基本操作。
path 模块提供用于处理文件路径和目录路径的实用工具。
注意：path模块只是处理文件路径，说白了就是字符串处理，跟文件系统无关
读取路径的文件名 path.basename() 方法返回 path 的最后一部分，类似于 Unix 的 basename 命令。 尾部的目录分隔符将被忽略。
返回带扩展名
const path = require('path'); console.log(path.basename('/usr/local/a.txt')) // 输出 a.txt 返回不带扩展名
const path = require('path'); console.log(path.basename('/usr/local/a.txt','.txt')) // 输出 a 读取文件路径的目录名 path.dirname() 方法返回 path 的目录名，类似于 Unix 的 dirname 命令。 尾部的目录分隔符将被忽略。 path.extname() 方法返回 path 的扩展名，从最后一次出现 .（句点）字符到 path 最后一部分的字符串结束。 如果在 path 的最后一部分中没有 . ，或者如果 path 的基本名称（参阅 path.basename()）除了第一个字符以外没有 .，则返回空字符串。
const path = require('path'); console.log(path.dirname('/usr/local/a.txt')) // 输出 /usr/local 获取文件扩展名 path.extname() 方法返回 path 的扩展名，从最后一次出现 .</div></article><article><div class=blog-card><h3><a href=/2019/07/20/nodejs-guide-filesystem/>NodeJs简明教程(4)</a></h3><p><small>July 20, 2019&nbsp;· 138 words&nbsp;· One minute</small><p>本文是NodeJs简明教程的第四篇，将介绍NodeJs文件系统模块相关的基本操作。
fs 模块提供了一个 API，用于以模仿标准 POSIX 函数的方式与文件系统进行交互。
读取文件 文件系统的大部分函数都存在 异步调用 和 同步调用 两种形式。
异步 异步模式下，回调函数的第一个参数总为 Error 对象，且函数一般无返回值。
如果为null，则本次调用未出错 如果不为null，证明本次调用出错 新建 index.js 文件：
const fs = require('fs'); fs.readFile('./index.js', { encoding: 'utf8' }, (err, data) => { if (err) { console.error('读取文件失败', err); return; } console.log(data); }) readFile的第二个参数如果不指定编码，回调函数取到的data对象是Buffer，需要手动转字符串。读取文本文件可以指定编码，但是读取二进制文件(比如读取图片文件)就不能指定编码了，有一些字符时不可见字符，编码之后会出问题。
在当前目录执行 node index.js
输出如下：
const fs = require('fs'); fs.readFile('./index.js', (err, data) => { if (err) { console.error('读取文件失败', err); return; } console.log(data); }) 同步模式 同步模式下，返回值为调用函数的结果，如果调用失败，将抛出Error对象：
const fs = require('fs'); try { const data = fs.</div></article><article><div class=blog-card><h3><a href=/2019/07/19/nodejs-guide-http-server/>NodeJs简明教程(3)</a></h3><p><small>July 19, 2019&nbsp;· 304 words&nbsp;· 2 min</small><p>本文是NodeJs简明教程的第三篇，将介绍NodeJs自带HTTP模块服务器相关的基本操作。
HTTP模块介绍 以下是官方原文[1]：
The HTTP interfaces in Node.js are designed to support many features of the protocol which have been traditionally difficult to use. In particular, large, possibly chunk-encoded, messages. The interface is careful to never buffer entire requests or responses — the user is able to stream data.
大致意思就是：
NodeJs的HTTP模块旨在支持传统上HTTP协议难以使用的许多功能，让这些功能或者特性能够使用简单的API进行调用。
HTTP模块服务器开发 代码示例 以下是NodeJs最简单的HTTP服务器示例:
新建index.js
编码
const http = require('http'); const server = http.createServer((req, res) => { console.log('%s %s', req.method, req.</div></article></div><div class=paginator><a class=prev href=/posts/page/10/>&larr;&nbsp;&nbsp;Pre Page</a>
<a class=next href=/posts/page/12/>Next Page&nbsp;&nbsp;&rarr;</a></div></div></div></div><footer class=footer><p>&copy; 2014 - 2024 <a href=https://www.ddhigh.com/>Lei Xia</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-EC3XLVSGKV"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EC3XLVSGKV")</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>