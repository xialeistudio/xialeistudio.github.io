<!doctype html><html lang=zh><head><meta name=viewport content="width=device-width,initial-scale=1"><title>基于LLM和搜索引擎构建你的AI搜索机器人</title>
<meta charset=utf-8><meta name=google-adsense-account content="ca-pub-2871082647721658"><meta content="Web开发 ,Java ,Go ,Node.js ,PHP ,Koa ,MySQL ,Redis ,前端 ,后端 ,数据库" name=keywords><meta name=description content="在人工智能的浪潮中，大型语言模型（LLM）和搜索引擎的结合为信息检索领域带来了革命性的变化。本文将详细介绍如何利用这些技术构建一个智能信息检索助手——AI搜索机器人。我们将从项目背景、核心原理、代码实现、使用示例以及开源地址等方面进行深入探讨。"><meta name=author content="Lei Xia"><link rel=canonical href=https://www.ddhigh.com/2024/08/15/build-your-ai-search-bot-with-llm-and-search-engines/><link rel=alternate type=application/rss+xml href=https://www.ddhigh.com/index.xml title=每天进步一点点><script async src="https://www.googletagmanager.com/gtag/js?id=G-EC3XLVSGKV"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EC3XLVSGKV")</script><meta property="og:title" content="基于LLM和搜索引擎构建你的AI搜索机器人"><meta property="og:description" content="在人工智能的浪潮中，大型语言模型（LLM）和搜索引擎的结合为信息检索领域带来了革命性的变化。本文将详细介绍如何利用这些技术构建一个智能信息检索助手——AI搜索机器人。我们将从项目背景、核心原理、代码实现、使用示例以及开源地址等方面进行深入探讨。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.ddhigh.com/2024/08/15/build-your-ai-search-bot-with-llm-and-search-engines/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-15T15:57:11+08:00"><meta property="article:modified_time" content="2024-08-15T15:57:11+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="基于LLM和搜索引擎构建你的AI搜索机器人"><meta name=twitter:description content="在人工智能的浪潮中，大型语言模型（LLM）和搜索引擎的结合为信息检索领域带来了革命性的变化。本文将详细介绍如何利用这些技术构建一个智能信息检索助手——AI搜索机器人。我们将从项目背景、核心原理、代码实现、使用示例以及开源地址等方面进行深入探讨。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.ddhigh.com/posts/"},{"@type":"ListItem","position":3,"name":"基于LLM和搜索引擎构建你的AI搜索机器人","item":"https://www.ddhigh.com/2024/08/15/build-your-ai-search-bot-with-llm-and-search-engines/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"基于LLM和搜索引擎构建你的AI搜索机器人","name":"基于LLM和搜索引擎构建你的AI搜索机器人","description":"在人工智能的浪潮中，大型语言模型（LLM）和搜索引擎的结合为信息检索领域带来了革命性的变化。本文将详细介绍如何利用这些技术构建一个智能信息检索助手——AI搜索机器人。我们将从项目背景、核心原理、代码实现、使用示例以及开源地址等方面进行深入探讨。\n","keywords":["rag"],"articleBody":"在人工智能的浪潮中，大型语言模型（LLM）和搜索引擎的结合为信息检索领域带来了革命性的变化。本文将详细介绍如何利用这些技术构建一个智能信息检索助手——AI搜索机器人。我们将从项目背景、核心原理、代码实现、使用示例以及开源地址等方面进行深入探讨。\n项目背景 随着互联网信息量的爆炸性增长，用户在海量数据中寻找答案变得越来越困难。传统的搜索引擎虽然强大，但在理解和处理复杂查询方面仍有局限。为了解决这一问题，本文介绍的AI搜索机器人项目，它利用LLM的深度语义理解和搜索引擎的广度信息检索能力，为用户提供了一个全新的信息检索解决方案。\n核心原理 AI搜索机器人的核心原理可以概括为以下几个步骤：\n搜索引擎检索：利用搜索引擎检索相关信息并提取TOP10网页内容。 内容提取与整合：从检索结果中提取有用信息，并进行整合。 LLM处理：将整合后的信息输入到LLM中，进行深度分析和理解。 智能回答生成：根据LLM的分析结果，生成智能回答。 结果反馈：将智能回答反馈给用户，并提供信息来源的链接。 代码实现 bot.py\nfrom typing import Optional from urllib.parse import quote_plus import requests from bs4 import BeautifulSoup from concurrent.futures import ThreadPoolExecutor headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3' } # 获取页面body内容 def retrieve_content(item, verbose): url = item['url'] title = item['title'] try: if verbose: print(f\"retrieving content from {title}\") response = requests.get(url, headers=headers, timeout=5) response.encoding = 'utf-8' # 设置编码 response.raise_for_status() # 检查请求是否成功 soup = BeautifulSoup(response.text, 'html.parser') return f\"{soup.get_text(strip=True)}\\nOriginURL: {url}\" # 获取文本并去除空白字符 except Exception as e: if verbose: print(f\"failed to retrieve content from {title}: {e}\") return \"\" # 抓取页面列表 def retrieve_pages(links: list, verbose=False) -\u003e str: with ThreadPoolExecutor(max_workers=len(links)) as executor: contents = list(executor.map(lambda item: retrieve_content(item, verbose=verbose), links)) return \"\\n\".join(contents) class SearchBot: def __init__(self, verbose=False): self.verbose = verbose def search(self, query: str) -\u003e Optional[str]: links = self.retrieve_urls(query) if len(links) == 0: return None contents = retrieve_pages(links, verbose=self.verbose) if self.verbose: print(f\"search completed, context length: {len(contents)} characters\\nGenerating...\") return contents def retrieve_urls(self, query: str) -\u003e list: pass class BingSearchBot(SearchBot): def retrieve_urls(self, query: str) -\u003e list: encoded_query = quote_plus(query) url = f\"https://www.bing.com/search?q={encoded_query}\" response = requests.get(url, headers=headers) response.encoding = 'utf-8' response.raise_for_status() soup = BeautifulSoup(response.text, 'html.parser') body = soup.get_text(strip=True) if \"blocked\" in body: raise Exception(\"Blocked by Bing\") results = [] for item in soup.select('.b_algo h2 a'): title = item.get_text(strip=True) link = item['href'] results.append({'title': title, 'url': link}) if len(results) == 0: return [] if self.verbose: print(f\"searched {len(results)} results\") return results class BaiduSearchBot(SearchBot): def retrieve_urls(self, query: str) -\u003e list: encoded_query = quote_plus(query) url = f\"https://www.baidu.com/s?wd={encoded_query}\" response = requests.get(url, headers=headers) response.encoding = 'utf-8' response.raise_for_status() soup = BeautifulSoup(response.text, 'html.parser') results = [] for item in soup.select('h3.c-title a'): title = item.get_text(strip=True) link = item['href'] results.append({'title': title, 'url': link}) if len(results) == 0: return [] if self.verbose: print(f\"searched {len(results)} results\") return results def make_bot(name: str, verbose=True) -\u003e SearchBot: if name == \"bing\": return BingSearchBot(verbose=verbose) elif name == \"baidu\": return BaiduSearchBot(verbose=verbose) else: raise ValueError(f\"Unsupported search engine: {name}\") rag.py\nfrom langchain_core.output_parsers import StrOutputParser from langchain_core.prompts import ChatPromptTemplate from langchain_core.runnables import RunnablePassthrough from langchain_ollama import OllamaLLM from . import bot from . import retriever from . import template def search(query, bot_name='baidu', lang='chinese', verbose=False, llm=OllamaLLM(model='llama3.1', temperature=0.3)): # Set the language template if lang == 'chinese': prompt_template = template.chinese else: prompt_template = template.english # Create the prompt prompt = ChatPromptTemplate.from_template(prompt_template) # Create the retriever search_bot = bot.make_bot(bot_name, verbose=verbose) # Default to Baidu bot r = retriever.SearchBotRetriever(bot=search_bot) # Construct the RAG chain rag_chain = ( {\"context\": r, \"question\": RunnablePassthrough()} | prompt | llm | StrOutputParser() ) # Invoke the RAG chain with the query answer = rag_chain.invoke(query) return answer retriever.py\nfrom typing import Optional from langchain_core.runnables import Runnable, RunnableConfig from langchain_core.runnables.utils import Input, Output from . import bot as botmodule class SearchBotRetriever(Runnable): def __init__(self, bot: botmodule.SearchBot): self.bot = bot def retrieve(self, query: str): return self.bot.search(query) def invoke(self, input: Input, config: Optional[RunnableConfig] = None) -\u003e Output: return self.retrieve(input) template.py\nchinese = \"\"\" 你是一个帮助用户完成信息检索的智能助理，你的职责是根据提供的上下文回答用户的问题。 此外，你还需要遵守下列约定： 1.如果你不知道问题的答案，直接说不知道 2.回答需要附上来源链接 上下文: {context} 问题是: {question} \"\"\" english = \"\"\" You are an AI assistant that helps users with information retrieval. Your job is to answer user questions based on the provided context. Additionally, you are expected to follow these conventions: 1. If you don't know the answer to a question, say \"I don't know\" 2. Answers should include the source link Context: {context} Question: {question} \"\"\" 使用示例 from searchbot.rag import search query = \"法国的首都是哪里？\" bot_name = \"bing\" lang = \"chinese\" verbose = True answer = search(query, bot_name=bot_name, lang=lang, verbose=verbose) print(answer) 输出如下\nsearched 9 results retrieving content from 法国(法兰西共和国) - 百度百科 retrieving content from 法国的首都是什么?_百度教育 retrieving content from 法国的首都是哪里-爱问教育 retrieving content from 法国的首都是( )A.伦敦B.巴黎C.罗马D.柏林 题目和参考答案... retrieving content from 法国“文化首都”竟不是巴黎?这9座城市“杀”疯了!|勒芒|... retrieving content from 落地法国第一站戴高乐机场|看完这篇不迷路,最全攻略拿走吧 retrieving content from 法国最佳求学城市大盘点!巴黎竟然不是第一名 - 知乎 retrieving content from 波城大学——一所开放的大学! retrieving content from 图文解读法国地理和历史(法国最全地图收藏) - 知乎 search completed, context length: 55657 characters Generating... 法国的首都是巴黎。 开源地址 AI搜索机器人的源代码已在GitHub上开源，感兴趣的开发者可以访问以下地址获取完整代码和文档：\nhttps://github.com/xialeistudio/SearchBot\n结语 AI搜索机器人是一个结合了最新人工智能技术和搜索引擎能力的创新项目。它不仅提高了信息检索的效率和准确性，还为用户提供了更加智能和个性化的搜索体验。随着技术的不断发展，我们期待AI搜索机器人在未来能够发挥更大的作用，为信息检索领域带来新的变革。\n","wordCount":"630","inLanguage":"zh","datePublished":"2024-08-15T15:57:11+08:00","dateModified":"2024-08-15T15:57:11+08:00","author":{"@type":"Person","name":"Lei Xia"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ddhigh.com/2024/08/15/build-your-ai-search-bot-with-llm-and-search-engines/"},"publisher":{"@type":"Organization","name":"每天进步一点点","logo":{"@type":"ImageObject","url":"https://www.ddhigh.com/favicon.ico"}}}</script><link rel=icon href=/img/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/img/favicon.ico><link rel=manifest href=/img/favicon.ico><link href=/titilliumweb/titilliumweb.css rel=stylesheet><link rel=stylesheet href=/css/main.min.0eb4160ba4a2d63122fe8ae83f1560951a87ab510d5dab0615973b5206555759.css integrity="sha256-DrQWC6Si1jEi/oroPxVglRqHq1ENXasGFZc7UgZVV1k=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css integrity="sha512-ygEyjMC6rqnzJqWGjRTJUPYMEs9JUOm3i7OWUS9CgQ4XkBUvMsgCS1I8JqavidQ2ClHcREB7IbA2mN08+r9Elg==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.894ca9c68afab956438c4926a0dc7f5293e04e08595bd27abdb123e94801f684.js></script><script>hljs.highlightAll()</script><script>$darkModeInit.Content|safeJS</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2871082647721658" crossorigin=anonymous></script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>每天进步一点点
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/>首页</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>归档</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/books>出版物</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/guestbook>留言板</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/xialeistudio><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://www.ddhigh.com/en/2024/08/15/build-your-ai-search-bot-with-llm-and-search-engines/>EN</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>基于LLM和搜索引擎构建你的AI搜索机器人</h1></header><p><small>2024年8月15日&nbsp;· 630 字&nbsp;· 3 分钟</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#项目背景>项目背景</a></li><li><a href=#核心原理>核心原理</a></li><li><a href=#代码实现>代码实现</a></li><li><a href=#使用示例>使用示例</a></li><li><a href=#开源地址>开源地址</a></li><li><a href=#结语>结语</a></li></ul></nav></div><section class=blog-content><p>在人工智能的浪潮中，大型语言模型（LLM）和搜索引擎的结合为信息检索领域带来了革命性的变化。本文将详细介绍如何利用这些技术构建一个智能信息检索助手——AI搜索机器人。我们将从项目背景、核心原理、代码实现、使用示例以及开源地址等方面进行深入探讨。</p><h2 id=项目背景>项目背景</h2><p>随着互联网信息量的爆炸性增长，用户在海量数据中寻找答案变得越来越困难。传统的搜索引擎虽然强大，但在理解和处理复杂查询方面仍有局限。为了解决这一问题，本文介绍的AI搜索机器人项目，它利用LLM的深度语义理解和搜索引擎的广度信息检索能力，为用户提供了一个全新的信息检索解决方案。</p><h2 id=核心原理>核心原理</h2><p>AI搜索机器人的核心原理可以概括为以下几个步骤：</p><ol><li><strong>搜索引擎检索</strong>：利用搜索引擎检索相关信息并提取TOP10网页内容。</li><li><strong>内容提取与整合</strong>：从检索结果中提取有用信息，并进行整合。</li><li><strong>LLM处理</strong>：将整合后的信息输入到LLM中，进行深度分析和理解。</li><li><strong>智能回答生成</strong>：根据LLM的分析结果，生成智能回答。</li><li><strong>结果反馈</strong>：将智能回答反馈给用户，并提供信息来源的链接。</li></ol><h2 id=代码实现>代码实现</h2><p>bot.py</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Optional
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> urllib.parse <span style=color:#f92672>import</span> quote_plus
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> requests
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> bs4 <span style=color:#f92672>import</span> BeautifulSoup
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> concurrent.futures <span style=color:#f92672>import</span> ThreadPoolExecutor
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>headers <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;User-Agent&#39;</span>: <span style=color:#e6db74>&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3&#39;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 获取页面body内容</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>retrieve_content</span>(item, verbose):
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;url&#39;</span>]
</span></span><span style=display:flex><span>    title <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;title&#39;</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> verbose:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;retrieving content from </span><span style=color:#e6db74>{</span>title<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url, headers<span style=color:#f92672>=</span>headers, timeout<span style=color:#f92672>=</span><span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>        response<span style=color:#f92672>.</span>encoding <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;utf-8&#39;</span>  <span style=color:#75715e># 设置编码</span>
</span></span><span style=display:flex><span>        response<span style=color:#f92672>.</span>raise_for_status()  <span style=color:#75715e># 检查请求是否成功</span>
</span></span><span style=display:flex><span>        soup <span style=color:#f92672>=</span> BeautifulSoup(response<span style=color:#f92672>.</span>text, <span style=color:#e6db74>&#39;html.parser&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>soup<span style=color:#f92672>.</span>get_text(strip<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)<span style=color:#e6db74>}</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>OriginURL: </span><span style=color:#e6db74>{</span>url<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>  <span style=color:#75715e># 获取文本并去除空白字符</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> verbose:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;failed to retrieve content from </span><span style=color:#e6db74>{</span>title<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 抓取页面列表</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>retrieve_pages</span>(links: list, verbose<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> ThreadPoolExecutor(max_workers<span style=color:#f92672>=</span>len(links)) <span style=color:#66d9ef>as</span> executor:
</span></span><span style=display:flex><span>        contents <span style=color:#f92672>=</span> list(executor<span style=color:#f92672>.</span>map(<span style=color:#66d9ef>lambda</span> item: retrieve_content(item, verbose<span style=color:#f92672>=</span>verbose), links))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>join(contents)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SearchBot</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, verbose<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>verbose <span style=color:#f92672>=</span> verbose
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>search</span>(self, query: str) <span style=color:#f92672>-&gt;</span> Optional[str]:
</span></span><span style=display:flex><span>        links <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>retrieve_urls(query)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> len(links) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>        contents <span style=color:#f92672>=</span> retrieve_pages(links, verbose<span style=color:#f92672>=</span>self<span style=color:#f92672>.</span>verbose)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>verbose:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;search completed, context length: </span><span style=color:#e6db74>{</span>len(contents)<span style=color:#e6db74>}</span><span style=color:#e6db74> characters</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>Generating...&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> contents
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>retrieve_urls</span>(self, query: str) <span style=color:#f92672>-&gt;</span> list:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BingSearchBot</span>(SearchBot):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>retrieve_urls</span>(self, query: str) <span style=color:#f92672>-&gt;</span> list:
</span></span><span style=display:flex><span>        encoded_query <span style=color:#f92672>=</span> quote_plus(query)
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;https://www.bing.com/search?q=</span><span style=color:#e6db74>{</span>encoded_query<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url, headers<span style=color:#f92672>=</span>headers)
</span></span><span style=display:flex><span>        response<span style=color:#f92672>.</span>encoding <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;utf-8&#39;</span>
</span></span><span style=display:flex><span>        response<span style=color:#f92672>.</span>raise_for_status()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        soup <span style=color:#f92672>=</span> BeautifulSoup(response<span style=color:#f92672>.</span>text, <span style=color:#e6db74>&#39;html.parser&#39;</span>)
</span></span><span style=display:flex><span>        body <span style=color:#f92672>=</span> soup<span style=color:#f92672>.</span>get_text(strip<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;blocked&#34;</span> <span style=color:#f92672>in</span> body:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>Exception</span>(<span style=color:#e6db74>&#34;Blocked by Bing&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        results <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> item <span style=color:#f92672>in</span> soup<span style=color:#f92672>.</span>select(<span style=color:#e6db74>&#39;.b_algo h2 a&#39;</span>):
</span></span><span style=display:flex><span>            title <span style=color:#f92672>=</span> item<span style=color:#f92672>.</span>get_text(strip<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>            link <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;href&#39;</span>]
</span></span><span style=display:flex><span>            results<span style=color:#f92672>.</span>append({<span style=color:#e6db74>&#39;title&#39;</span>: title, <span style=color:#e6db74>&#39;url&#39;</span>: link})
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> len(results) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>verbose:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;searched </span><span style=color:#e6db74>{</span>len(results)<span style=color:#e6db74>}</span><span style=color:#e6db74> results&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> results
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BaiduSearchBot</span>(SearchBot):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>retrieve_urls</span>(self, query: str) <span style=color:#f92672>-&gt;</span> list:
</span></span><span style=display:flex><span>        encoded_query <span style=color:#f92672>=</span> quote_plus(query)
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;https://www.baidu.com/s?wd=</span><span style=color:#e6db74>{</span>encoded_query<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url, headers<span style=color:#f92672>=</span>headers)
</span></span><span style=display:flex><span>        response<span style=color:#f92672>.</span>encoding <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;utf-8&#39;</span>
</span></span><span style=display:flex><span>        response<span style=color:#f92672>.</span>raise_for_status()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        soup <span style=color:#f92672>=</span> BeautifulSoup(response<span style=color:#f92672>.</span>text, <span style=color:#e6db74>&#39;html.parser&#39;</span>)
</span></span><span style=display:flex><span>        results <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> item <span style=color:#f92672>in</span> soup<span style=color:#f92672>.</span>select(<span style=color:#e6db74>&#39;h3.c-title a&#39;</span>):
</span></span><span style=display:flex><span>            title <span style=color:#f92672>=</span> item<span style=color:#f92672>.</span>get_text(strip<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>            link <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;href&#39;</span>]
</span></span><span style=display:flex><span>            results<span style=color:#f92672>.</span>append({<span style=color:#e6db74>&#39;title&#39;</span>: title, <span style=color:#e6db74>&#39;url&#39;</span>: link})
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> len(results) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>verbose:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;searched </span><span style=color:#e6db74>{</span>len(results)<span style=color:#e6db74>}</span><span style=color:#e6db74> results&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> results
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>make_bot</span>(name: str, verbose<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>) <span style=color:#f92672>-&gt;</span> SearchBot:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> name <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;bing&#34;</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> BingSearchBot(verbose<span style=color:#f92672>=</span>verbose)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>elif</span> name <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;baidu&#34;</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> BaiduSearchBot(verbose<span style=color:#f92672>=</span>verbose)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Unsupported search engine: </span><span style=color:#e6db74>{</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p>rag.py</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> langchain_core.output_parsers <span style=color:#f92672>import</span> StrOutputParser
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> langchain_core.prompts <span style=color:#f92672>import</span> ChatPromptTemplate
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> langchain_core.runnables <span style=color:#f92672>import</span> RunnablePassthrough
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> langchain_ollama <span style=color:#f92672>import</span> OllamaLLM
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> . <span style=color:#f92672>import</span> bot
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> . <span style=color:#f92672>import</span> retriever
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> . <span style=color:#f92672>import</span> template
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>search</span>(query, bot_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;baidu&#39;</span>, lang<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;chinese&#39;</span>, verbose<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>, llm<span style=color:#f92672>=</span>OllamaLLM(model<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;llama3.1&#39;</span>, temperature<span style=color:#f92672>=</span><span style=color:#ae81ff>0.3</span>)):
</span></span><span style=display:flex><span>    <span style=color:#75715e># Set the language template</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> lang <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;chinese&#39;</span>:
</span></span><span style=display:flex><span>        prompt_template <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>chinese
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        prompt_template <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>english
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create the prompt</span>
</span></span><span style=display:flex><span>    prompt <span style=color:#f92672>=</span> ChatPromptTemplate<span style=color:#f92672>.</span>from_template(prompt_template)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create the retriever</span>
</span></span><span style=display:flex><span>    search_bot <span style=color:#f92672>=</span> bot<span style=color:#f92672>.</span>make_bot(bot_name, verbose<span style=color:#f92672>=</span>verbose)  <span style=color:#75715e># Default to Baidu bot</span>
</span></span><span style=display:flex><span>    r <span style=color:#f92672>=</span> retriever<span style=color:#f92672>.</span>SearchBotRetriever(bot<span style=color:#f92672>=</span>search_bot)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Construct the RAG chain</span>
</span></span><span style=display:flex><span>    rag_chain <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>            {<span style=color:#e6db74>&#34;context&#34;</span>: r, <span style=color:#e6db74>&#34;question&#34;</span>: RunnablePassthrough()}
</span></span><span style=display:flex><span>            <span style=color:#f92672>|</span> prompt
</span></span><span style=display:flex><span>            <span style=color:#f92672>|</span> llm
</span></span><span style=display:flex><span>            <span style=color:#f92672>|</span> StrOutputParser()
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Invoke the RAG chain with the query</span>
</span></span><span style=display:flex><span>    answer <span style=color:#f92672>=</span> rag_chain<span style=color:#f92672>.</span>invoke(query)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> answer
</span></span></code></pre></div><p>retriever.py</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Optional
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> langchain_core.runnables <span style=color:#f92672>import</span> Runnable, RunnableConfig
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> langchain_core.runnables.utils <span style=color:#f92672>import</span> Input, Output
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> . <span style=color:#f92672>import</span> bot <span style=color:#66d9ef>as</span> botmodule
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SearchBotRetriever</span>(Runnable):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, bot: botmodule<span style=color:#f92672>.</span>SearchBot):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>bot <span style=color:#f92672>=</span> bot
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>retrieve</span>(self, query: str):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>bot<span style=color:#f92672>.</span>search(query)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>invoke</span>(self, input: Input, config: Optional[RunnableConfig] <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>) <span style=color:#f92672>-&gt;</span> Output:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>retrieve(input)
</span></span></code></pre></div><p>template.py</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>chinese <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>你是一个帮助用户完成信息检索的智能助理，你的职责是根据提供的上下文回答用户的问题。
</span></span></span><span style=display:flex><span><span style=color:#e6db74>此外，你还需要遵守下列约定：
</span></span></span><span style=display:flex><span><span style=color:#e6db74>1.如果你不知道问题的答案，直接说不知道
</span></span></span><span style=display:flex><span><span style=color:#e6db74>2.回答需要附上来源链接
</span></span></span><span style=display:flex><span><span style=color:#e6db74>上下文: </span><span style=color:#e6db74>{context}</span><span style=color:#e6db74> 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>问题是: </span><span style=color:#e6db74>{question}</span><span style=color:#e6db74> 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>english <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>You are an AI assistant that helps users with information retrieval. 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Your job is to answer user questions based on the provided context.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Additionally, you are expected to follow these conventions:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>1. If you don&#39;t know the answer to a question, say &#34;I don&#39;t know&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>2. Answers should include the source link
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Context: </span><span style=color:#e6db74>{context}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Question: </span><span style=color:#e6db74>{question}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span></code></pre></div><h2 id=使用示例>使用示例</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> searchbot.rag <span style=color:#f92672>import</span> search
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>query <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;法国的首都是哪里？&#34;</span>
</span></span><span style=display:flex><span>bot_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;bing&#34;</span>
</span></span><span style=display:flex><span>lang <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;chinese&#34;</span>
</span></span><span style=display:flex><span>verbose <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>answer <span style=color:#f92672>=</span> search(query, bot_name<span style=color:#f92672>=</span>bot_name, lang<span style=color:#f92672>=</span>lang, verbose<span style=color:#f92672>=</span>verbose)
</span></span><span style=display:flex><span>print(answer)
</span></span></code></pre></div><p>输出如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>searched 9 results
</span></span><span style=display:flex><span>retrieving content from 法国(法兰西共和国) - 百度百科
</span></span><span style=display:flex><span>retrieving content from 法国的首都是什么?_百度教育
</span></span><span style=display:flex><span>retrieving content from 法国的首都是哪里-爱问教育
</span></span><span style=display:flex><span>retrieving content from 法国的首都是( )A.伦敦B.巴黎C.罗马D.柏林 题目和参考答案...
</span></span><span style=display:flex><span>retrieving content from 法国“文化首都”竟不是巴黎?这9座城市“杀”疯了!|勒芒|...
</span></span><span style=display:flex><span>retrieving content from 落地法国第一站戴高乐机场|看完这篇不迷路,最全攻略拿走吧
</span></span><span style=display:flex><span>retrieving content from 法国最佳求学城市大盘点!巴黎竟然不是第一名 - 知乎
</span></span><span style=display:flex><span>retrieving content from 波城大学——一所开放的大学!
</span></span><span style=display:flex><span>retrieving content from 图文解读法国地理和历史(法国最全地图收藏) - 知乎
</span></span><span style=display:flex><span>search completed, context length: 55657 characters
</span></span><span style=display:flex><span>Generating...
</span></span><span style=display:flex><span>法国的首都是巴黎。
</span></span></code></pre></div><h2 id=开源地址>开源地址</h2><p>AI搜索机器人的源代码已在GitHub上开源，感兴趣的开发者可以访问以下地址获取完整代码和文档：</p><p><a href=https://github.com/xialeistudio/SearchBot target=_blank rel=noopener>https://github.com/xialeistudio/SearchBot</a></p><h2 id=结语>结语</h2><p>AI搜索机器人是一个结合了最新人工智能技术和搜索引擎能力的创新项目。它不仅提高了信息检索的效率和准确性，还为用户提供了更加智能和个性化的搜索体验。随着技术的不断发展，我们期待AI搜索机器人在未来能够发挥更大的作用，为信息检索领域带来新的变革。</p><div class=blog-footer><div class=social-share></div><div class=copyright><ul><li style=margin-bottom:.5em>本文作者: <a href=https://ddhigh.com/ target=_blank style=color:#000;text-decoration:none>xialeistudio</a></li><li style=margin-bottom:.5em>本文链接: <a href=https://www.ddhigh.com/2024/08/15/build-your-ai-search-bot-with-llm-and-search-engines/ target=_blank style=color:#000;text-decoration:none>基于LLM和搜索引擎构建你的AI搜索机器人</a></li><li>版权声明: <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank style=color:#000;text-decoration:none>「署名-非商业性使用-相同方式共享 4.0 国际」</a></li></ul></div><div style=margin-top:2rem><img src=/img/mp.png alt=qrcode></div></div></section><div class=paginator><a class=prev href=https://www.ddhigh.com/2024/08/20/understanding-the-temperature-of-llms/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg><span>理解LLM中的Temperature参数</span></a>
<a class=next href=https://www.ddhigh.com/2024/07/28/oauth2-comprehensive-overview/><span>Oauth2.0四种授权流程全解读</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","xialeistudio/discussion"),s.setAttribute("data-repo-id","R_kgDOKurTRA"),s.setAttribute("data-category","General"),s.setAttribute("data-category-id","DIC_kwDOKurTRM4CbCJt"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","bottom"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","en"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></div><footer class=footer><p>&copy; 2014 - 2025 <a href=https://www.ddhigh.com>每天进步一点点</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg></a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script><script src=https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js integrity="sha512-9DNXrSjk17bU9MUbRp3IjwcWe46V8FaGA062PFbryPUAEQVRbz4jiZP6FW0AdbqEGtMYBDWnul3eiGBMJOQajA==" crossorigin=anonymous referrerpolicy=no-referrer></script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>