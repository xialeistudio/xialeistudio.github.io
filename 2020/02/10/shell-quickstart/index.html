<!doctype html><html lang=zh><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Shell脚本快速入门(1)</title>
<meta charset=utf-8><meta content="Web开发 ,Java ,Go ,Node.js ,PHP ,Koa ,MySQL ,Redis ,前端 ,后端 ,数据库" name=keywords><meta name=description content="Shell 是一个用 C 语言编写的程序，用户可以通过Shell脚本语言来进行程序开发。与其他脚本语言不同，Shell脚本所需的解释器一般是内置在操作系统的，而像Node.js、PHP等脚本语言需要手动安装解释器程序才可以。
接下来将和大家一起来学习Shell脚本编程。"><meta name=author content="Lei Xia"><link rel=canonical href=https://www.ddhigh.com/2020/02/10/shell-quickstart/><link rel=alternate type=application/rss+xml href=https://www.ddhigh.com//index.xml title=每天进步一点点><script async src="https://www.googletagmanager.com/gtag/js?id=G-EC3XLVSGKV"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EC3XLVSGKV")</script><meta property="og:title" content="Shell脚本快速入门(1)"><meta property="og:description" content="Shell 是一个用 C 语言编写的程序，用户可以通过Shell脚本语言来进行程序开发。与其他脚本语言不同，Shell脚本所需的解释器一般是内置在操作系统的，而像Node.js、PHP等脚本语言需要手动安装解释器程序才可以。
接下来将和大家一起来学习Shell脚本编程。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.ddhigh.com/2020/02/10/shell-quickstart/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-02-10T12:00:00+00:00"><meta property="article:modified_time" content="2020-02-10T12:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Shell脚本快速入门(1)"><meta name=twitter:description content="Shell 是一个用 C 语言编写的程序，用户可以通过Shell脚本语言来进行程序开发。与其他脚本语言不同，Shell脚本所需的解释器一般是内置在操作系统的，而像Node.js、PHP等脚本语言需要手动安装解释器程序才可以。
接下来将和大家一起来学习Shell脚本编程。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.ddhigh.com/posts/"},{"@type":"ListItem","position":2,"name":"Shell脚本快速入门(1)","item":"https://www.ddhigh.com/2020/02/10/shell-quickstart/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Shell脚本快速入门(1)","name":"Shell脚本快速入门(1)","description":"Shell 是一个用 C 语言编写的程序，用户可以通过Shell脚本语言来进行程序开发。与其他脚本语言不同，Shell脚本所需的解释器一般是内置在操作系统的，而像Node.js、PHP等脚本语言需要手动安装解释器程序才可以。\n接下来将和大家一起来学习Shell脚本编程。","keywords":["shell"],"articleBody":"Shell 是一个用 C 语言编写的程序，用户可以通过Shell脚本语言来进行程序开发。与其他脚本语言不同，Shell脚本所需的解释器一般是内置在操作系统的，而像Node.js、PHP等脚本语言需要手动安装解释器程序才可以。\n接下来将和大家一起来学习Shell脚本编程。\nShell解释器 Shell解释器种类众多，笔者的电脑上内置以下Shell:\n/bin/bash /bin/csh /bin/ksh /bin/sh /bin/tcsh /bin/zsh 其中bash和sh是最常见的Shell解释器，一般情况下，这两种Shell没有区别，本文以bash为例。\nHello World 打开文本编辑器(vim或者vscode)，新建文件 hello.sh，扩展名为sh(常用)。\n#!/bin/bash echo \"Hello World!\" 第1行用来指明本脚本需要使用什么解释器来执行。#!是一个约定的语法。\necho用来输出文本。\n执行Shell脚本 有两种方法可以执行Shell脚本：\n作为可执行程序。给脚本添加可执行权限之后执行即可。 chmod +x ./hello.sh # 添加可执行权限 ./hello.sh # 执行脚本 作为解释器脚本。直接运行指定的解释器程序，并将脚本路径传入，本方式不要求脚本有可执行权限。 /bin/bash hello.sh # 使用/bin/bash来执行hello.sh Shell语法 和其他编程语言一样，Shell脚本也有自己的一套语法规则，我们现在来系统学习一下。\n变量 命名规则 定义变量时，变量名不加美元符号$，如：\nname=\"xialei\" 和其他编程语言不同的时，Shell脚本中变量名和等号之间不能有空格。Shell变量名的命名规则如下：\n只能包含英文字母、数字和下划线，且不能以数字开头 不能包含空格 不能使用关键字命名(通过下划线连接关键字是允许的) 不能使用标点符号 以下是合法的示例\nvar1 var_2 _var3 MAX_PAGE 以下是不合法的示例\n$var 赋值 Shell有以下两种复制方式。\n直接赋值。直接在等号后面指定变量值。 name=\"xialei admin=1 使用命名执行结果。可以将其他命令的执行结果赋值给变量。（以下两种方式是等效的） file=`ls /etc` # 反引号(键盘Tab上面的键) file1=$(ls /etc) 已经存在的变量，可以被重新赋值。\nname=\"hello\" echo $name name=\"world\" echo $name 使用变量 使用变量时在变量名前添加$符号，定义时不加。\nname=\"xialei\" echo $name echo ${name} 变量名两边的花括号是可选的，一般情况下不用加，但是如果涉及到边界识别问题，则需要手动添加花括号。\nname=\"xialei\" echo \"I'm ${name}studio.\" # 正确示例 echo \"I'm $namestudio.\" # 错误示例 如果不添加花括号，Shell会将namestudio作为变量，该变量是不存在的，因此代码执行逻辑就不是我们想要的了。\n只读变量 如果某些变量在定义后就无法更改该变量的值，可以设置使用readonly设置为只读变量，对只读变量赋值会跑出错误。\nname=\"xialei\" readonly name name=\"zhangsan\" 上述例子执行结果如下\n./hello.sh: line 5: name: readonly variable 释放变量 使用unset可以释放变量。变量被释放后不能使用(使用不会报错,shell中使用未定义变量当做空值处理)，此外unset命令无法释放只读变量。\nname=\"xialei\" unset name # 不要$ echo $name 变量类型 Shell脚本运行时，存在以下三种变量：\n局部变量。在脚本中定义的变量，只对当前脚本有效 环境变量。所有程序都能访问到环境变量，此外Shell脚本也可以在运行时定义环境变量 Shell变量。Shell变量是由Shell解释器设置的变量。Shell变量中有一部分是局部变量，有一部分是环境变量。 数据类型 Shell支持数字、字符串和数组三种数据类型。下面我们分别进行学习。\n字符串 字符串可以使用单引号、双引号，也可以不使用引号。\n单引号\nname='xialei' 单引号内的任何字符都会原样使用，不解析变量，也不解析转义字符。这一点和PHP有点类似 双引号\nname='xialei' msg=\"Hello, ${name}\" echo $msg 双引号内的字符串会进行变量解析和转义字符解析 字符串拼接 字符串拼接有以下两种方式。\n引号拼接(支持双引号和单引号)\nname='xialei' msg='Hello '$name', welcome!' echo $msg 内部嵌套(只支持双引号，因为单引号不解析变量)\nname='xialei' msg=\"Hello ${name}, welcome!\" echo $msg 数组 Shell只支持一维数组，不限定数组大小。\n数组的索引由0开始，读取元素的索引可以使用整数或表达式。\n数组定义 数组元素使用小括号括起来，每个元素之间用空格分割。\nusers=(xialei zhangsan lisi) 读取数组元素 语法如下:\n${数组名称[下标]} 比如上例中读取第2个人\nusers=(xialei zhangsan lisi) echo ${users[1]} # 输出zhangsan 使用@作为下标可以获取数组的所有元素。\nusers=(xialei zhangsan lisi) echo ${users[@]} # 输出 xialei zhangsan lisi 获取数组长度 语法如下\nlength=${#数组名[@]} 比如输出users数组的长度\nusers=(xialei zhangsan lisi) echo ${#users[@]} 今天的内容主要是让大家对Shell有一个宏观的认识，介绍了Shell的变量以及数据类型，下一篇将重点介绍Shell的运算符和流程控制。\n(未完待续)\n","wordCount":"195","inLanguage":"zh","datePublished":"2020-02-10T12:00:00Z","dateModified":"2020-02-10T12:00:00Z","author":{"@type":"Person","name":"Lei Xia"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ddhigh.com/2020/02/10/shell-quickstart/"},"publisher":{"@type":"Organization","name":"每天进步一点点","logo":{"@type":"ImageObject","url":"https://www.ddhigh.com/favicon.ico"}}}</script><link rel=icon href=/img/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/img/favicon.ico><link rel=manifest href=/img/favicon.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.ddf09015124d5e5e623b9acce7e8755f9f3c09d7a51a3d59ee9c0af4f906ccc9.css integrity="sha256-3fCQFRJNXl5iO5rM5+h1X588CdelGj1Z7pwK9PkGzMk=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>$darkModeInit.Content|safeJS</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>每天进步一点点
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/>首页</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>归档</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/books>出版物</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/guestbook>留言板</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/xialeistudio><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://www.ddhigh.com/en/>EN</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>Shell脚本快速入门(1)</h1></header><p><small>2020年2月10日&nbsp;· 195 字&nbsp;· 1 分钟</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#shell解释器>Shell解释器</a></li><li><a href=#hello-world>Hello World</a></li><li><a href=#执行shell脚本>执行Shell脚本</a></li><li><a href=#shell语法>Shell语法</a><ul><li><a href=#变量>变量</a></li><li><a href=#数据类型>数据类型</a></li></ul></li></ul></nav></div><section class=blog-content><p>Shell 是一个用 C 语言编写的程序，用户可以通过Shell脚本语言来进行程序开发。与其他脚本语言不同，Shell脚本所需的解释器一般是内置在操作系统的，而像Node.js、PHP等脚本语言需要手动安装解释器程序才可以。</p><p>接下来将和大家一起来学习Shell脚本编程。</p><h2 id=shell解释器>Shell解释器</h2><p>Shell解释器种类众多，笔者的电脑上内置以下Shell:</p><pre tabindex=0><code>/bin/bash
/bin/csh
/bin/ksh
/bin/sh
/bin/tcsh
/bin/zsh
</code></pre><p>其中bash和sh是最常见的Shell解释器，一般情况下，这两种Shell没有区别，本文以bash为例。</p><h2 id=hello-world>Hello World</h2><p>打开文本编辑器(vim或者vscode)，新建文件 <strong>hello.sh</strong>，扩展名为sh(常用)。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>echo <span style=color:#e6db74>&#34;Hello World!&#34;</span>
</span></span></code></pre></div><p>第1行用来指明本脚本需要使用什么解释器来执行。<code>#!</code>是一个约定的语法。</p><p><code>echo</code>用来输出文本。</p><h2 id=执行shell脚本>执行Shell脚本</h2><p>有两种方法可以执行Shell脚本：</p><ol><li>作为可执行程序。给脚本添加可执行权限之后执行即可。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chmod +x ./hello.sh <span style=color:#75715e># 添加可执行权限</span>
</span></span><span style=display:flex><span>./hello.sh <span style=color:#75715e># 执行脚本</span>
</span></span></code></pre></div><ol start=2><li>作为解释器脚本。直接运行指定的解释器程序，并将脚本路径传入，本方式不要求脚本有可执行权限。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/bin/bash hello.sh <span style=color:#75715e># 使用/bin/bash来执行hello.sh</span>
</span></span></code></pre></div><h2 id=shell语法>Shell语法</h2><p>和其他编程语言一样，Shell脚本也有自己的一套语法规则，我们现在来系统学习一下。</p><h3 id=变量>变量</h3><h4 id=命名规则>命名规则</h4><p>定义变量时，变量名不加美元符号$，如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xialei&#34;</span>
</span></span></code></pre></div><p>和其他编程语言不同的时，Shell脚本中<code>变量名和等号之间不能有空格</code>。Shell变量名的命名规则如下：</p><ul><li>只能包含英文字母、数字和下划线，且不能以数字开头</li><li>不能包含空格</li><li>不能使用关键字命名(通过下划线连接关键字是允许的)</li><li>不能使用标点符号</li></ul><p>以下是合法的示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>var1
</span></span><span style=display:flex><span>var_2
</span></span><span style=display:flex><span>_var3
</span></span><span style=display:flex><span>MAX_PAGE
</span></span></code></pre></div><p>以下是不合法的示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$var
</span></span></code></pre></div><h4 id=赋值>赋值</h4><p>Shell有以下两种复制方式。</p><ol><li>直接赋值。直接在等号后面指定变量值。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xialei
</span></span></span><span style=display:flex><span><span style=color:#e6db74>admin=1
</span></span></span></code></pre></div><ol start=2><li>使用命名执行结果。可以将其他命令的执行结果赋值给变量。（以下两种方式是等效的）</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>file<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>ls /etc<span style=color:#e6db74>`</span> <span style=color:#75715e># 反引号(键盘Tab上面的键)</span>
</span></span><span style=display:flex><span>file1<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>ls /etc<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p>已经存在的变量，可以被重新赋值。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hello&#34;</span>
</span></span><span style=display:flex><span>echo $name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;world&#34;</span>
</span></span><span style=display:flex><span>echo $name
</span></span></code></pre></div><h4 id=使用变量>使用变量</h4><blockquote><p>使用变量时在变量名前添加$符号，定义时不加。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xialei&#34;</span>
</span></span><span style=display:flex><span>echo $name
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${</span>name<span style=color:#e6db74>}</span>
</span></span></code></pre></div><p>变量名两边的花括号是可选的，一般情况下不用加，但是如果涉及到边界识别问题，则需要手动添加花括号。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xialei&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;I&#39;m </span><span style=color:#e6db74>${</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>studio.&#34;</span> <span style=color:#75715e># 正确示例</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;I&#39;m </span>$namestudio<span style=color:#e6db74>.&#34;</span> <span style=color:#75715e># 错误示例</span>
</span></span></code></pre></div><p>如果不添加花括号，Shell会将<code>namestudio</code>作为变量，该变量是不存在的，因此代码执行逻辑就不是我们想要的了。</p><h4 id=只读变量>只读变量</h4><p>如果某些变量在定义后就无法更改该变量的值，可以设置使用<code>readonly</code>设置为只读变量，对只读变量赋值会跑出错误。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xialei&#34;</span>
</span></span><span style=display:flex><span>readonly name
</span></span><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;zhangsan&#34;</span>
</span></span></code></pre></div><p>上述例子执行结果如下</p><pre tabindex=0><code>./hello.sh: line 5: name: readonly variable
</code></pre><h4 id=释放变量>释放变量</h4><p>使用<code>unset</code>可以释放变量。变量被释放后不能使用(使用不会报错,shell中使用未定义变量当做空值处理)，此外unset命令无法释放只读变量。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xialei&#34;</span>
</span></span><span style=display:flex><span>unset name <span style=color:#75715e># 不要$</span>
</span></span><span style=display:flex><span>echo $name
</span></span></code></pre></div><h4 id=变量类型>变量类型</h4><p>Shell脚本运行时，存在以下三种变量：</p><ul><li>局部变量。在脚本中定义的变量，只对当前脚本有效</li><li>环境变量。所有程序都能访问到环境变量，此外Shell脚本也可以在运行时定义环境变量</li><li>Shell变量。Shell变量是由Shell解释器设置的变量。Shell变量中有一部分是局部变量，有一部分是环境变量。</li></ul><h3 id=数据类型>数据类型</h3><p>Shell支持数字、字符串和数组三种数据类型。下面我们分别进行学习。</p><h4 id=字符串>字符串</h4><p>字符串可以使用单引号、双引号，也可以不使用引号。</p><p>单引号</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xialei&#39;</span>
</span></span></code></pre></div><ul><li>单引号内的任何字符都会原样使用，不解析变量，也不解析转义字符。这一点和PHP有点类似</li></ul><p>双引号</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xialei&#39;</span>
</span></span><span style=display:flex><span>msg<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Hello, </span><span style=color:#e6db74>${</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>echo $msg
</span></span></code></pre></div><ul><li>双引号内的字符串会进行变量解析和转义字符解析</li></ul><h5 id=字符串拼接>字符串拼接</h5><p>字符串拼接有以下两种方式。</p><p>引号拼接(支持双引号和单引号)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xialei&#39;</span>
</span></span><span style=display:flex><span>msg<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Hello &#39;</span>$name<span style=color:#e6db74>&#39;, welcome!&#39;</span>
</span></span><span style=display:flex><span>echo $msg
</span></span></code></pre></div><p>内部嵌套(只支持双引号，因为单引号不解析变量)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xialei&#39;</span>
</span></span><span style=display:flex><span>msg<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Hello </span><span style=color:#e6db74>${</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>, welcome!&#34;</span>
</span></span><span style=display:flex><span>echo $msg
</span></span></code></pre></div><h4 id=数组>数组</h4><p>Shell只支持一维数组，不限定数组大小。</p><p>数组的索引由0开始，读取元素的索引可以使用整数或表达式。</p><h5 id=数组定义>数组定义</h5><p>数组元素使用<code>小括号</code>括起来，每个元素之间用<code>空格</code>分割。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>users<span style=color:#f92672>=(</span>xialei zhangsan lisi<span style=color:#f92672>)</span>
</span></span></code></pre></div><h5 id=读取数组元素>读取数组元素</h5><p>语法如下:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#e6db74>${</span>数组名称[下标]<span style=color:#e6db74>}</span>
</span></span></code></pre></div><p>比如上例中读取第2个人</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>users<span style=color:#f92672>=(</span>xialei zhangsan lisi<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${</span>users[1]<span style=color:#e6db74>}</span> <span style=color:#75715e># 输出zhangsan</span>
</span></span></code></pre></div><p>使用<code>@</code>作为下标可以获取数组的所有元素。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>users<span style=color:#f92672>=(</span>xialei zhangsan lisi<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${</span>users[@]<span style=color:#e6db74>}</span> <span style=color:#75715e># 输出 xialei zhangsan lisi</span>
</span></span></code></pre></div><h5 id=获取数组长度>获取数组长度</h5><p>语法如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>length<span style=color:#f92672>=</span><span style=color:#e6db74>${#</span>数组名[@]<span style=color:#e6db74>}</span>
</span></span></code></pre></div><p>比如输出users数组的长度</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>users<span style=color:#f92672>=(</span>xialei zhangsan lisi<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${#</span>users[@]<span style=color:#e6db74>}</span>
</span></span></code></pre></div><p>今天的内容主要是让大家对Shell有一个宏观的认识，介绍了Shell的变量以及数据类型，下一篇将重点介绍Shell的运算符和流程控制。</p><p><img alt=0.jpeg src=https://static.ddhigh.com/blog/2019-10-22-102654.jpg></p><p>(未完待续)</p><div class=blog-footer><div class=copyright><ul><li style=margin-bottom:.5em>本文作者: <a href=https://ddhigh.com/ target=_blank style=color:#000;text-decoration:none>xialeistudio</a></li><li style=margin-bottom:.5em>本文链接: <a href=https://www.ddhigh.com/2020/02/10/shell-quickstart/ target=_blank style=color:#000;text-decoration:none>Shell脚本快速入门(1)</a></li><li>版权声明: <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank style=color:#000;text-decoration:none>「署名-非商业性使用-相同方式共享 4.0 国际」</a></li></ul></div><div style=margin-top:2rem><img src=/img/mp.png alt=qrcode></div></div></section><div class=paginator><a class=prev href=https://www.ddhigh.com/2020/02/11/shell-operator-flow-control/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>Shell脚本快速入门(2)</span></a>
<a class=next href=https://www.ddhigh.com/2020/02/01/java-resource-load/><span>Java中加载文件的几种方式</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","xialeistudio/discussion"),s.setAttribute("data-repo-id","R_kgDOKurTRA"),s.setAttribute("data-category","General"),s.setAttribute("data-category-id","DIC_kwDOKurTRM4CbCJt"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","bottom"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","en"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></div><footer class=footer><p>&copy; 2014 - 2024 <a href=https://www.ddhigh.com/>每天进步一点点</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>