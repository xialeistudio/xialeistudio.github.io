<!doctype html><html lang=zh><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Shell脚本快速入门(2)</title>
<meta charset=utf-8><meta name=description content='Ladder@今天我们来学习Shell的运算符和流程控制。
运算符 Shell和其他编程语言一样支持多种运算符，包括：
算术运算符 关系运算符 逻辑运算符 字符串运算符 文件测试运算符 下面我们一起来看看。
算术运算符 原生bash不支持简单的数学运算，需要借助expr命令。
例如，输出两个数的和：
sum=`expr 1 + 1` echo $sum 注意：
操作数和操作符之间必须用空格分开；
表达式必须使用反引号包裹；
操作符 说明 示例 + 加法 expr 1 + 1 - 减法 expr 1 - 1 * 乘法 expr 1 \* 1 需要转义*号 / 除法 expr 1 / 1 % 取余 expr 2 % 2 完整示例如下：
a=1 b=2 # 加法 val=`expr $a + $b` echo "$a+$b=$val" # 减法 val=`expr $a - $b` echo "$a-$b=$val" # 乘法 val=`expr $a \* $b` # 必须转义 echo "$a*$b=$val" # 除法 val=`expr $a / $b` echo "$a/$b=$val" # 取余 val=`expr $a % $b` echo "$a%$b=$val" 关系运算符 关系运算符是比较两个操作数的数学大小关系，支持数字和数字字符串(如"1")'><meta name=author content="Lei Xia"><link rel=canonical href=https://www.ddhigh.com/2020/02/11/shell-operator-flow-control/><link rel=alternate type=application/rss+xml href=https://www.ddhigh.com//index.xml title="Lei Xia"><meta property="og:title" content="Shell脚本快速入门(2)"><meta property="og:description" content='今天我们来学习Shell的运算符和流程控制。
运算符 Shell和其他编程语言一样支持多种运算符，包括：
算术运算符 关系运算符 逻辑运算符 字符串运算符 文件测试运算符 下面我们一起来看看。
算术运算符 原生bash不支持简单的数学运算，需要借助expr命令。
例如，输出两个数的和：
sum=`expr 1 + 1` echo $sum 注意：
操作数和操作符之间必须用空格分开；
表达式必须使用反引号包裹；
操作符 说明 示例 + 加法 expr 1 + 1 - 减法 expr 1 - 1 * 乘法 expr 1 \* 1 需要转义*号 / 除法 expr 1 / 1 % 取余 expr 2 % 2 完整示例如下：
a=1 b=2 # 加法 val=`expr $a + $b` echo "$a+$b=$val" # 减法 val=`expr $a - $b` echo "$a-$b=$val" # 乘法 val=`expr $a \* $b` # 必须转义 echo "$a*$b=$val" # 除法 val=`expr $a / $b` echo "$a/$b=$val" # 取余 val=`expr $a % $b` echo "$a%$b=$val" 关系运算符 关系运算符是比较两个操作数的数学大小关系，支持数字和数字字符串(如"1")'><meta property="og:type" content="article"><meta property="og:url" content="https://www.ddhigh.com/2020/02/11/shell-operator-flow-control/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-02-11T12:00:00+00:00"><meta property="article:modified_time" content="2020-02-11T12:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Shell脚本快速入门(2)"><meta name=twitter:description content='今天我们来学习Shell的运算符和流程控制。
运算符 Shell和其他编程语言一样支持多种运算符，包括：
算术运算符 关系运算符 逻辑运算符 字符串运算符 文件测试运算符 下面我们一起来看看。
算术运算符 原生bash不支持简单的数学运算，需要借助expr命令。
例如，输出两个数的和：
sum=`expr 1 + 1` echo $sum 注意：
操作数和操作符之间必须用空格分开；
表达式必须使用反引号包裹；
操作符 说明 示例 + 加法 expr 1 + 1 - 减法 expr 1 - 1 * 乘法 expr 1 \* 1 需要转义*号 / 除法 expr 1 / 1 % 取余 expr 2 % 2 完整示例如下：
a=1 b=2 # 加法 val=`expr $a + $b` echo "$a+$b=$val" # 减法 val=`expr $a - $b` echo "$a-$b=$val" # 乘法 val=`expr $a \* $b` # 必须转义 echo "$a*$b=$val" # 除法 val=`expr $a / $b` echo "$a/$b=$val" # 取余 val=`expr $a % $b` echo "$a%$b=$val" 关系运算符 关系运算符是比较两个操作数的数学大小关系，支持数字和数字字符串(如"1")'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.ddhigh.com/posts/"},{"@type":"ListItem","position":2,"name":"Shell脚本快速入门(2)","item":"https://www.ddhigh.com/2020/02/11/shell-operator-flow-control/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Shell脚本快速入门(2)","name":"Shell脚本快速入门(2)","description":"今天我们来学习Shell的运算符和流程控制。\n运算符 Shell和其他编程语言一样支持多种运算符，包括：\n算术运算符 关系运算符 逻辑运算符 字符串运算符 文件测试运算符 下面我们一起来看看。\n算术运算符 原生bash不支持简单的数学运算，需要借助expr命令。\n例如，输出两个数的和：\nsum=`expr 1 + 1` echo $sum 注意：\n操作数和操作符之间必须用空格分开；\n表达式必须使用反引号包裹；\n操作符 说明 示例 + 加法 expr 1 + 1 - 减法 expr 1 - 1 * 乘法 expr 1 \\* 1 需要转义*号 / 除法 expr 1 / 1 % 取余 expr 2 % 2 完整示例如下：\na=1 b=2 # 加法 val=`expr $a + $b` echo \u0026#34;$a+$b=$val\u0026#34; # 减法 val=`expr $a - $b` echo \u0026#34;$a-$b=$val\u0026#34; # 乘法 val=`expr $a \\* $b` # 必须转义 echo \u0026#34;$a*$b=$val\u0026#34; # 除法 val=`expr $a / $b` echo \u0026#34;$a/$b=$val\u0026#34; # 取余 val=`expr $a % $b` echo \u0026#34;$a%$b=$val\u0026#34; 关系运算符 关系运算符是比较两个操作数的数学大小关系，支持数字和数字字符串(如\u0026quot;1\u0026quot;)","keywords":["shell"],"articleBody":"今天我们来学习Shell的运算符和流程控制。\n运算符 Shell和其他编程语言一样支持多种运算符，包括：\n算术运算符 关系运算符 逻辑运算符 字符串运算符 文件测试运算符 下面我们一起来看看。\n算术运算符 原生bash不支持简单的数学运算，需要借助expr命令。\n例如，输出两个数的和：\nsum=`expr 1 + 1` echo $sum 注意：\n操作数和操作符之间必须用空格分开；\n表达式必须使用反引号包裹；\n操作符 说明 示例 + 加法 expr 1 + 1 - 减法 expr 1 - 1 * 乘法 expr 1 \\* 1 需要转义*号 / 除法 expr 1 / 1 % 取余 expr 2 % 2 完整示例如下：\na=1 b=2 # 加法 val=`expr $a + $b` echo \"$a+$b=$val\" # 减法 val=`expr $a - $b` echo \"$a-$b=$val\" # 乘法 val=`expr $a \\* $b` # 必须转义 echo \"$a*$b=$val\" # 除法 val=`expr $a / $b` echo \"$a/$b=$val\" # 取余 val=`expr $a % $b` echo \"$a%$b=$val\" 关系运算符 关系运算符是比较两个操作数的数学大小关系，支持数字和数字字符串(如\"1\")\n运算符 说明 例子 -eq 检测两数是否相等 [ $a -eq $b ] -ne 检测两数是否不等 [ $a -ne $b ] -gt 检查左边是否大于右边(greater than) [ $a -gt $b ] -lt 检查左边是否小于右边(less than) [ $a -lt $b ] -ge 检查左边是否大于等于右边 [ $a -ge $b ] -le 检查左边是否小于等于右边 [ $a -le $b ] == 判断两数是否相等 [ $a == $b ] != 判断两数是否不想等 [ $a != $b ] 下面是一个if比较的示例，if语法将在本文介绍流程控制的时候进行详细学习。\na=10 b=20 if [ $a -eq $b ] then echo \"$a=$b\" else echo \"$a!=$b\" fi 逻辑运算符 逻辑运算符就是与(AND)、或(OR)、非(NOT)。\n运算符 说明 示例 ! 逻辑非 [ !false]返回true -o 逻辑或 [ $a -gt 0 -o $b -gt 0] 当a和b有一个大于0时返回true -a 逻辑与 [ $a -gt 0 -a $b -gt 0 ]当a和b都大于0时返回true 下面是结合关系运算符的例子：\na=1 b=2 if [ $a != $b ] then echo \"1!=2\" else echo \"1=2\" fi if [ $a -gt 0 -o $b -gt 0 ] then echo \"a或b大于0\" else echo \"a和b都不大于0\" fi if [ $a -gt 0 -a $b -gt 0 ] then echo \"a和b都大于0\" else echo \"a和b不都大于0\" fi 字符串运算符 Shell被常用来处理字符串数据，因此有一些专门适用于字符串的运算符。\n运算符 说明 示例 = 检查两个字符串是否相等 [ $a = $b ] != 检查两个字符串是否不想等 [ $a != $b ] -z 检查字符串长度是否为0 [ -z $a ] -n 检查字符串长度是否不为0 [ -n $a ] $ 检查字符串是否为空 [ $a ] 下面是一些示例：\na=\"hello\" b=\"world\" if [ $a = $b ] then echo \"$a和$b相同\" else echo \"$a和$b不同\" fi if [ -z $a ] then echo \"$a长度为0\" else echo \"$a长度不为0\" fi if [ -n $a ] then echo \"$a长度不为0\" else echo \"$a长度为0\" fi if [ $a ] then echo \"$a不为空\" else echo \"$a为空\" fi 文件测试运算符 文件测试运算符用于检测文件的各种状态。下表列出了常用的文件测试运算符。\n操作符 说明 示例 -d file 检查文件是否是目录 [ -d $file ] -f file 检查文件是否是普通文件(不是目录，也不是块设备文件) [ -f $file] -r file 检查文件是否可读 [ -r $file ] -w file 检查文件是否可写 [ -w $file ] -x file 检查文件是否可执行 [ -x $file ] -s file 检查文件大小是否为0 [ -s $file ] -e file 检查文件或文件夹是否存在 [ -e $file ] -S 检查文件是否是Socket文件 [ -S $file ] -L 检查文件是否存在且是一个符号链接 [ -L $file ] 下面是一些示例：\nfile=\"/etc/passwd\" if [ -d $file ] then echo \"$file是目录\" else echo \"$file不是目录\" fi if [ -f $file ] then echo \"$file是普通文件\" else echo \"$file不是普通文件\" fi if [ -e $file ] then echo \"$file存在\" else echo \"$file不存在\" fi 流程控制 Shell的流程控制也包含判断和循环，我们一起来学习一下。\nif/else 语法\nif condition then 语句1 语句2 ... 语句N elif condition2 then 语句1 语句2 ... 语句N else 语句1 语句2 ... 语句N fi elif和else分支是可以省略的\nif/fi 需要配对\n下面是一些示例：\na=1 b=2 if [ $a == $b ] then echo \"a = b\" elif [ $a -gt $b ] then echo \"a \u003e b\" elif [ $a -lt $b ] then echo \"a \u003c b\" else echo \"所有条件都不匹配\" fi for循环 语法如下\nfor item in item1 item2 ... itemN do 语句1 语句2 ... 语句N done do/done需要配对 in列表支持文件列表、字符串、数字和其他数组数据 下面是循环输出/etc下文件和目录的示例：\nfor dir in `ls /etc` do echo \"$dir\" done while 语法如下\nwhile condition do 语句1 语句2 ... 语句N done 下面是一个示例\nc=1 while(( $c\u003c=10 )) do echo $c c=`expr $c + 1` done switch 语法如下\ncase 值 in 模式1) 语句1 语句2 ... 语句N ;; 模式2) 语句1 语句2 ... 语句N ;; *) 语句1 语句2 ... 语句N ;; easc 模式匹配之后不会再执行其他模式语句(不需要手动break) case/easc 必须配对 每个模式语句的末尾必须添加两个分号 使用*号捕获其他模式 如下是一个示例\necho '输入星期几' read day case $day in 1) echo \"星期一\" ;; 2) echo \"星期二\" ;; ... *) echo \"输入的数字无效\" ;; read是从标准输入读取一行赋值给指定变量 break break命令允许跳出循环体。下面是一个示例\nsum=0 while read n do if [ $n -gt 0 ] then sum=`expr $sum + $n` else break fi done continue continue命令允许跳过本次循环，直接进行下一轮循环。下面是一个示例\nsum=0 while read n do if [ $n -gt 0 ] then sum=`expr $sum + $n` else continue # 本次输入不合法，跳过， fi done 九九乘法表 结合今日所学，我们用Shell来打印一个九九乘法表：\n#!/bin/bash i=1 while [ $i -le 9 ] # i \u003c= 9 do j=1 while [ $j -le 9 ] # j \u003c= 9 do if [ $i -ge $j ] # if($i \u003e= $j) then val=`expr $i \\* $j` echo -n \"$j*$i=$val \" fi j=`expr $j + 1` # j++ done echo i=`expr $i + 1` # i++ done 执行结果如下:\n1*1=1 1*2=2 2*2=4 1*3=3 2*3=6 3*3=9 1*4=4 2*4=8 3*4=12 4*4=16 1*5=5 2*5=10 3*5=15 4*5=20 5*5=25 1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36 1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49 1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64 1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81 今天的内容是Shell中比较重要的，也是最常用的语法。下一篇将对Shell的输入输出进行学习。\n(未完待续)\n","wordCount":"774","inLanguage":"zh","datePublished":"2020-02-11T12:00:00Z","dateModified":"2020-02-11T12:00:00Z","author":{"@type":"Person","name":"Lei Xia"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ddhigh.com/2020/02/11/shell-operator-flow-control/"},"publisher":{"@type":"Organization","name":"Lei Xia","logo":{"@type":"ImageObject","url":"https://www.ddhigh.com/favicon.ico"}}}</script><link rel=icon href=/img/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/img/favicon.ico><link rel=manifest href=/img/favicon.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.bdcd9f7232970786bae2a6f540d0af8c6bb155414954e87f05e933eccd48f434.css integrity="sha256-vc2fcjKXB4a64qb1QNCvjGuxVUFJVOh/Bekz7M1I9DQ=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>$darkModeInit.Content|safeJS</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-EC3XLVSGKV"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EC3XLVSGKV")</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>归档</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/books>出版物</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/guestbook>留言板</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/xialeistudio><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://www.ddhigh.com/en/>EN</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>Shell脚本快速入门(2)</h1></header><p><small>2020年2月11日&nbsp;· 774 字&nbsp;· 4 分钟</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#运算符>运算符</a><ul><li><a href=#算术运算符>算术运算符</a></li><li><a href=#关系运算符>关系运算符</a></li><li><a href=#逻辑运算符>逻辑运算符</a></li><li><a href=#字符串运算符>字符串运算符</a></li><li><a href=#文件测试运算符>文件测试运算符</a></li></ul></li><li><a href=#流程控制>流程控制</a><ul><li><a href=#ifelse>if/else</a></li><li><a href=#for循环>for循环</a></li><li><a href=#while>while</a></li><li><a href=#switch>switch</a></li><li><a href=#break>break</a></li><li><a href=#continue>continue</a></li></ul></li><li><a href=#九九乘法表>九九乘法表</a></li></ul></nav></div><section class=blog-content><p>今天我们来学习Shell的运算符和流程控制。</p><h2 id=运算符>运算符</h2><p>Shell和其他编程语言一样支持多种运算符，包括：</p><ul><li>算术运算符</li><li>关系运算符</li><li>逻辑运算符</li><li>字符串运算符</li><li>文件测试运算符</li></ul><p>下面我们一起来看看。</p><h3 id=算术运算符>算术运算符</h3><blockquote><p>原生bash不支持简单的数学运算，需要借助expr命令。</p></blockquote><p>例如，输出两个数的和：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sum<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr <span style=color:#ae81ff>1</span> + 1<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>echo $sum
</span></span></code></pre></div><p>注意：</p><blockquote><p>操作数和操作符之间必须用空格分开；</p><p>表达式必须使用反引号包裹；</p></blockquote><table><thead><tr><th>操作符</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>+</td><td>加法</td><td>expr 1 + 1</td></tr><tr><td>-</td><td>减法</td><td>expr 1 - 1</td></tr><tr><td>*</td><td>乘法</td><td>expr 1 \* 1 需要转义*号</td></tr><tr><td>/</td><td>除法</td><td>expr 1 / 1</td></tr><tr><td>%</td><td>取余</td><td>expr 2 % 2</td></tr></tbody></table><p>完整示例如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 加法</span>
</span></span><span style=display:flex><span>val<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $a + $b<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>+</span>$b<span style=color:#e6db74>=</span>$val<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 减法</span>
</span></span><span style=display:flex><span>val<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $a - $b<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>-</span>$b<span style=color:#e6db74>=</span>$val<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 乘法</span>
</span></span><span style=display:flex><span>val<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $a <span style=color:#ae81ff>\*</span> $b<span style=color:#e6db74>`</span> <span style=color:#75715e># 必须转义</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>*</span>$b<span style=color:#e6db74>=</span>$val<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 除法</span>
</span></span><span style=display:flex><span>val<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $a / $b<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>/</span>$b<span style=color:#e6db74>=</span>$val<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 取余</span>
</span></span><span style=display:flex><span>val<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $a % $b<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>%</span>$b<span style=color:#e6db74>=</span>$val<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h3 id=关系运算符>关系运算符</h3><p>关系运算符是比较两个操作数的数学大小关系，支持数字和数字字符串(如"1")</p><table><thead><tr><th>运算符</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>-eq</td><td>检测两数是否相等</td><td>[ <code>$a -eq $b</code> ]</td></tr><tr><td>-ne</td><td>检测两数是否不等</td><td>[ <code>$a -ne $b</code> ]</td></tr><tr><td>-gt</td><td>检查左边是否大于右边(greater than)</td><td>[ <code>$a -gt $b</code> ]</td></tr><tr><td>-lt</td><td>检查左边是否小于右边(less than)</td><td>[ <code>$a -lt $b</code> ]</td></tr><tr><td>-ge</td><td>检查左边是否大于等于右边</td><td>[ <code>$a -ge $b</code> ]</td></tr><tr><td>-le</td><td>检查左边是否小于等于右边</td><td>[ <code>$a -le $b</code> ]</td></tr><tr><td>==</td><td>判断两数是否相等</td><td>[ <code>$a == $b</code> ]</td></tr><tr><td>!=</td><td>判断两数是否不想等</td><td>[ <code>$a != $b</code> ]</td></tr></tbody></table><p>下面是一个if比较的示例，if语法将在本文介绍流程控制的时候进行详细学习。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a -eq $b <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>=</span>$b<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74>!=</span>$b<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h3 id=逻辑运算符>逻辑运算符</h3><p>逻辑运算符就是与(AND)、或(OR)、非(NOT)。</p><table><thead><tr><th>运算符</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>!</td><td>逻辑非</td><td>[ !false]返回true</td></tr><tr><td>-o</td><td>逻辑或</td><td>[ <code>$a -gt 0 -o $b -gt 0</code>] 当a和b有一个大于0时返回true</td></tr><tr><td>-a</td><td>逻辑与</td><td>[ <code>$a -gt 0 -a $b -gt 0</code> ]当a和b都大于0时返回true</td></tr></tbody></table><p>下面是结合关系运算符的例子：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a !<span style=color:#f92672>=</span> $b <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;1!=2&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;1=2&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a -gt <span style=color:#ae81ff>0</span> -o $b -gt <span style=color:#ae81ff>0</span> <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;a或b大于0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;a和b都不大于0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a -gt <span style=color:#ae81ff>0</span> -a $b -gt <span style=color:#ae81ff>0</span> <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;a和b都大于0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;a和b不都大于0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h3 id=字符串运算符>字符串运算符</h3><p>Shell被常用来处理字符串数据，因此有一些专门适用于字符串的运算符。</p><table><thead><tr><th>运算符</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>=</td><td>检查两个字符串是否相等</td><td>[ <code>$a = $b</code> ]</td></tr><tr><td>!=</td><td>检查两个字符串是否不想等</td><td>[ <code>$a != $b</code> ]</td></tr><tr><td>-z</td><td>检查字符串长度是否为0</td><td>[ <code>-z $a</code> ]</td></tr><tr><td>-n</td><td>检查字符串长度是否不为0</td><td>[ <code>-n $a</code> ]</td></tr><tr><td>$</td><td>检查字符串是否为空</td><td>[ <code>$a</code> ]</td></tr></tbody></table><p>下面是一些示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hello&#34;</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;world&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a <span style=color:#f92672>=</span> $b <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a和$b相同<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a和$b不同<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -z $a <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a长度为0<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a长度不为0<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -n $a <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a长度不为0<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a长度为0<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a不为空<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$a为空<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h3 id=文件测试运算符>文件测试运算符</h3><p>文件测试运算符用于检测文件的各种状态。下表列出了常用的文件测试运算符。</p><table><thead><tr><th>操作符</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>-d file</td><td>检查文件是否是目录</td><td>[ <code>-d $file</code> ]</td></tr><tr><td>-f file</td><td>检查文件是否是普通文件(不是目录，也不是块设备文件)</td><td>[ <code>-f $file</code>]</td></tr><tr><td>-r file</td><td>检查文件是否可读</td><td>[ <code>-r $file</code> ]</td></tr><tr><td>-w file</td><td>检查文件是否可写</td><td>[ <code>-w $file</code> ]</td></tr><tr><td>-x file</td><td>检查文件是否可执行</td><td>[ <code>-x $file</code> ]</td></tr><tr><td>-s file</td><td>检查文件大小是否为0</td><td>[ <code>-s $file</code> ]</td></tr><tr><td>-e file</td><td>检查文件或文件夹是否存在</td><td>[ <code>-e $file</code> ]</td></tr><tr><td>-S</td><td>检查文件是否是Socket文件</td><td>[ <code>-S $file</code> ]</td></tr><tr><td>-L</td><td>检查文件是否存在且是一个符号链接</td><td>[ <code>-L $file</code> ]</td></tr></tbody></table><p>下面是一些示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>file<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/etc/passwd&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -d $file <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$file是目录<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$file不是目录<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -f $file <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$file是普通文件<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$file不是普通文件<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -e $file <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$file存在<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$file不存在<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h2 id=流程控制>流程控制</h2><p>Shell的流程控制也包含判断和循环，我们一起来学习一下。</p><h3 id=ifelse>if/else</h3><p>语法</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>if</span> condition
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	 语句1
</span></span><span style=display:flex><span>	 语句2
</span></span><span style=display:flex><span>	 ...
</span></span><span style=display:flex><span>	 语句N
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> condition2
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	 语句1
</span></span><span style=display:flex><span>	 语句2
</span></span><span style=display:flex><span>	 ...
</span></span><span style=display:flex><span>	 语句N
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	 语句1
</span></span><span style=display:flex><span>	 语句2
</span></span><span style=display:flex><span>	 ...
</span></span><span style=display:flex><span>	 语句N
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><blockquote><ul><li><p>elif和else分支是可以省略的</p></li><li><p>if/fi 需要配对</p></li></ul></blockquote><p>下面是一些示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $a <span style=color:#f92672>==</span> $b <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>   echo <span style=color:#e6db74>&#34;a = b&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> <span style=color:#f92672>[</span> $a -gt $b <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>   echo <span style=color:#e6db74>&#34;a &gt; b&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> <span style=color:#f92672>[</span> $a -lt $b <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>   echo <span style=color:#e6db74>&#34;a &lt; b&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>   echo <span style=color:#e6db74>&#34;所有条件都不匹配&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h3 id=for循环>for循环</h3><p>语法如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> item in item1 item2 ... itemN
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	语句1
</span></span><span style=display:flex><span>	语句2
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span>	语句N
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><blockquote><ul><li>do/done需要配对</li><li>in列表支持文件列表、字符串、数字和其他数组数据</li></ul></blockquote><p>下面是循环输出<code>/etc</code>下文件和目录的示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> dir in <span style=color:#e6db74>`</span>ls /etc<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=while>while</h3><p>语法如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>while</span> condition
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	语句1
</span></span><span style=display:flex><span>	语句2
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span>	语句N
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>下面是一个示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>c<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span><span style=color:#f92672>((</span> $c&lt;<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span> <span style=color:#f92672>))</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    echo $c
</span></span><span style=display:flex><span>		c<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $c + 1<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=switch>switch</h3><p>语法如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>case</span> 值 in
</span></span><span style=display:flex><span>模式1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	语句1
</span></span><span style=display:flex><span>	语句2
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span>	语句N
</span></span><span style=display:flex><span>	;;
</span></span><span style=display:flex><span>模式2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	语句1
</span></span><span style=display:flex><span>	语句2
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span>	语句N
</span></span><span style=display:flex><span>	;;
</span></span><span style=display:flex><span>*<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	语句1
</span></span><span style=display:flex><span>	语句2
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span>	语句N
</span></span><span style=display:flex><span>	;;
</span></span><span style=display:flex><span>easc
</span></span></code></pre></div><blockquote><ul><li>模式匹配之后不会再执行其他模式语句(不需要手动break)</li><li>case/easc 必须配对</li><li>每个模式语句的末尾必须添加两个分号</li><li>使用*号捕获其他模式</li></ul></blockquote><p>如下是一个示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#39;输入星期几&#39;</span>
</span></span><span style=display:flex><span>read day
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> $day in
</span></span><span style=display:flex><span>	1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>		echo <span style=color:#e6db74>&#34;星期一&#34;</span>
</span></span><span style=display:flex><span>		;;
</span></span><span style=display:flex><span>	2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>		echo <span style=color:#e6db74>&#34;星期二&#34;</span>
</span></span><span style=display:flex><span>		;;
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span>	*<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>		echo <span style=color:#e6db74>&#34;输入的数字无效&#34;</span>
</span></span><span style=display:flex><span>		;;
</span></span></code></pre></div><blockquote><ul><li>read是从标准输入读取一行赋值给指定变量</li></ul></blockquote><h3 id=break>break</h3><p>break命令允许跳出循环体。下面是一个示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sum<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> read n
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $n -gt <span style=color:#ae81ff>0</span> <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>		sum<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $sum + $n<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>		break
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=continue>continue</h3><p>continue命令允许跳过本次循环，直接进行下一轮循环。下面是一个示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sum<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> read n
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $n -gt <span style=color:#ae81ff>0</span> <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>		sum<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $sum + $n<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>continue</span> <span style=color:#75715e># 本次输入不合法，跳过，</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h2 id=九九乘法表>九九乘法表</h2><p>结合今日所学，我们用Shell来打印一个九九乘法表：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> <span style=color:#f92672>[</span> $i -le <span style=color:#ae81ff>9</span> <span style=color:#f92672>]</span> <span style=color:#75715e># i &lt;= 9</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	j<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> <span style=color:#f92672>[</span> $j -le <span style=color:#ae81ff>9</span> <span style=color:#f92672>]</span> <span style=color:#75715e># j &lt;= 9</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $i -ge $j <span style=color:#f92672>]</span> <span style=color:#75715e># if($i &gt;= $j)</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>			val<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $i <span style=color:#ae81ff>\*</span> $j<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>			echo -n <span style=color:#e6db74>&#34;</span>$j<span style=color:#e6db74>*</span>$i<span style=color:#e6db74>=</span>$val<span style=color:#e6db74> &#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>		j<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $j + 1<span style=color:#e6db74>`</span> <span style=color:#75715e># j++</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>done</span>
</span></span><span style=display:flex><span>	echo
</span></span><span style=display:flex><span>	i<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr $i + 1<span style=color:#e6db74>`</span> <span style=color:#75715e># i++</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>执行结果如下:</p><pre tabindex=0><code>1*1=1 
1*2=2 2*2=4 
1*3=3 2*3=6 3*3=9 
1*4=4 2*4=8 3*4=12 4*4=16 
1*5=5 2*5=10 3*5=15 4*5=20 5*5=25 
1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36 
1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49 
1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64 
1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81 
</code></pre><p>今天的内容是Shell中比较重要的，也是最常用的语法。下一篇将对Shell的输入输出进行学习。</p><p><img alt=0.jpeg src=https://static.ddhigh.com/blog/2019-10-22-102654.jpg></p><p>(未完待续)</p></section><div class=paginator><a class=prev href=https://www.ddhigh.com/2020/03/02/react-ssr-example/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>Webpack4不求人(2) ——手把手搭建TypeScript+React16+ReactRouter5同构应用脚手架</span></a>
<a class=next href=https://www.ddhigh.com/2020/02/10/shell-quickstart/><span>Shell脚本快速入门(1)</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","xialeistudio/discussion"),s.setAttribute("data-repo-id","R_kgDOKurTRA"),s.setAttribute("data-category","General"),s.setAttribute("data-category-id","DIC_kwDOKurTRM4CbCJt"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","bottom"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","en"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></div><footer class=footer><p>&copy; 2014 - 2024 <a href=https://www.ddhigh.com/>Lei Xia</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>