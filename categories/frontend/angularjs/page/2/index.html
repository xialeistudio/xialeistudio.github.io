<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Kategorie: angularjs - Learning &amp; Sharing</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Learning &amp; Sharing"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Learning &amp; Sharing"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Learning &amp;amp; Sharing"><meta property="og:type" content="website"><meta property="og:title" content="Learning &amp; Sharing"><meta property="og:url" content="https://www.ddhigh.com/"><meta property="og:site_name" content="Learning &amp; Sharing"><meta property="og:description" content="Learning &amp;amp; Sharing"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.ddhigh.com/img/og_image.png"><meta property="article:author" content="Xia Lei"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://www.ddhigh.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ddhigh.com"},"headline":"Learning & Sharing","image":["https://www.ddhigh.com/img/og_image.png"],"author":{"@type":"Person","name":"Xia Lei"},"publisher":{"@type":"Organization","name":"Learning & Sharing","logo":{"@type":"ImageObject","url":{"text":"Learning & Sharing"}}},"description":"Learning &amp; Sharing"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.4.1/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?78141f99bbb49f1564a7af89344f5add";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Learning &amp; Sharing</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Suche" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Kategorien</a></li><li><a href="/categories/frontend/">frontend</a></li><li class="is-active"><a href="#" aria-current="page">angularjs</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2015-04-06T07:22:59.000Z" title="4/6/2015, 7:22:59 AM">2015-04-06</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">2 minutes lesen (Über 289 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/04/06/2015-04-06-angularjs-q.html">在AngularJS中使用$q进行“同步”编程</a></p><div class="content"><p>今天群里有位朋友问到直接返回$http说读不到数据，原因在于$http是异步请求，而且是“不可期”的，你不知道什么时候这个请求完成了。</p>
<p>而对于这种需要“同步”编程的方式，AngularJS提供了一个内置Service $q，它提供了一种承诺&#x2F;延后（promise&#x2F;deferred），可以保证我们的调用代码一定能够拿到数据。所以我们用起来可以像同步调用一样，话说回来，最终还是xhr异步请求。</p>
<h2 id="Factory"><a href="#Factory" class="headerlink" title="Factory"></a>Factory</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">factory</span>(<span class="string">&#x27;itemService&#x27;</span>, [<span class="string">&#x27;$http&#x27;</span>, <span class="string">&#x27;$q&#x27;</span>, <span class="keyword">function</span> (<span class="params">$http, $q</span>) &#123;  </span><br><span class="line">  <span class="keyword">return</span> &#123;  </span><br><span class="line">    query : <span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">      <span class="keyword">var</span> deferred = $q.<span class="title function_">defer</span>();<span class="comment">//声明承诺</span></span><br><span class="line">      $http(&#123;<span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>, <span class="attr">url</span>: <span class="string">&#x27;/item/list&#x27;</span>&#125;).  </span><br><span class="line">      <span class="title function_">success</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;  </span><br><span class="line">        deferred.<span class="title function_">resolve</span>(data);<span class="comment">//请求成功</span></span><br><span class="line">      &#125;).  </span><br><span class="line">      <span class="title function_">error</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;  </span><br><span class="line">        deferred.<span class="title function_">reject</span>(data); <span class="comment">//请求失败</span></span><br><span class="line">      &#125;);  </span><br><span class="line">      <span class="keyword">return</span> deferred.<span class="property">promise</span>;   <span class="comment">// 返回承诺，这里返回的不是数据，而是API</span></span><br><span class="line">    &#125; </span><br><span class="line">  &#125;;  </span><br><span class="line">&#125;]);  </span><br></pre></td></tr></table></figure>

<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;app&#x27;</span>)  </span><br><span class="line">  .<span class="title function_">controller</span>(<span class="string">&#x27;MainCtrl&#x27;</span>, [<span class="string">&#x27;itemService&#x27;</span>,<span class="string">&#x27;$scope&#x27;</span>, <span class="keyword">function</span> (<span class="params">itemService,$scope</span>) &#123; <span class="comment">// 注入itemService</span></span><br><span class="line">    <span class="keyword">var</span> promise = itemService.<span class="title function_">query</span>(); <span class="comment">//获得承诺接口  </span></span><br><span class="line">    promise.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;  <span class="comment">// 成功回调</span></span><br><span class="line">        $scope.<span class="property">user</span> = data;  </span><br><span class="line">    &#125;, <span class="keyword">function</span>(<span class="params">data</span>) &#123;  <span class="comment">// 错误回调</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请求失败&#x27;</span>);</span><br><span class="line">    &#125;);  </span><br><span class="line">  &#125;]);  </span><br></pre></td></tr></table></figure>

<h2 id="文档地址"><a href="#文档地址" class="headerlink" title="文档地址"></a>文档地址</h2><p><a target="_blank" rel="noopener" href="http://docs.angularjs.org/api/ng.$q">http://docs.angularjs.org/api/ng.$q</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2015-04-06T02:04:48.000Z" title="4/6/2015, 2:04:48 AM">2015-04-06</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">a minute lesen (Über 120 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/04/06/2015-04-06-angularjs-hello-world.html">angularjs Hello World</a></p><div class="content"><p>几乎所有的编程入门都是以”Hello World”开始的，这里也不例外。</p>
<h2 id="HTML代码"><a href="#HTML代码" class="headerlink" title="HTML代码"></a>HTML代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--使用ng-app指令“告诉”ng从哪里开始编译--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello World - Angularjs<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../vendor/angularjs/angular.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ng-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;说点什么&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="JS代码"><a href="#JS代码" class="headerlink" title="JS代码"></a>JS代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xialei &lt;xialeistudio<span class="doctag">@gmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> app = angular.<span class="title function_">module</span>(<span class="string">&#x27;app&#x27;</span>,[</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>

<p>双向绑定为ng内置，所以这里的js，实际上只有一个app定义罢了。<br>在输入框中输入任何字符都会及时在其之前的p元素显示出来。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2015-04-06T01:48:32.000Z" title="4/6/2015, 1:48:32 AM">2015-04-06</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">2 minutes lesen (Über 271 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/04/06/2015-04-06-angularjs-concept%20to%20explain.html">Angularjs概念解释</a></p><div class="content"><ul>
<li>本文所有内容仅代表个人观点</li>
</ul>
<h2 id="ng"><a href="#ng" class="headerlink" title="ng"></a>ng</h2><p><em>Angularjs的简称。</em></p>
<h2 id="指令-Directive"><a href="#指令-Directive" class="headerlink" title="指令(Directive)"></a>指令(Directive)</h2><p><em>特殊的html标签或html属性，扩展了html的功能</em>。有以下几类：</p>
<ul>
<li>E    Element 元素 如 <dropdown /> 就是一个自定义指令（如何自定义指令，将在后面的文章中介绍），名称为”dropdown”。</li>
<li>A    Attribute 属性 如 <html ng-app="app"></html> 这是最常用的指令了，ng-app为指令名称，也是html元素的属性，app为该属性的值</li>
</ul>
<h2 id="作用域-scope"><a href="#作用域-scope" class="headerlink" title="作用域(scope)"></a>作用域(scope)</h2><p><em>ng中变量、方法都是基于作用域的，作用类似于js作用域。</em></p>
<h2 id="ng-bind"><a href="#ng-bind" class="headerlink" title="ng-bind"></a>ng-bind</h2><p><em>html输出js变量，跟作用域绑定，message为作用域中的一个变量。</em>示例代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-bind</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最终会显示同一scope下的message变量值。</p>
<h2 id="ng-model"><a href="#ng-model" class="headerlink" title="ng-model"></a>ng-model</h2><p><em>双向绑定指令</em>，示例代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ng-model</span>=<span class="string">&quot;message&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>表明将input的值与作用域中的message变量进行绑定，当input值改变的时候，变量message跟着改变，html中输出的内容也会同步改变。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2015-02-05T03:20:43.000Z" title="2/5/2015, 3:20:43 AM">2015-02-05</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">3 minutes lesen (Über 490 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/02/05/2015-02-05-angularjs-ueditor-directive.html">angularjs ueditor指令</a></p><div class="content"><p>一直以来，angularjs的富文本编辑器都比较难做，主要是第三方的编辑器很难集成进来，今天花时间研究了一下，发现ueditor主要加载两个js文件</p>
<ul>
<li>ueditor.config.js</li>
<li>ueditor.all.js</li>
</ul>
<p>能不能把这两个文件异步加载呢？答案是肯定的。我们新建一个服务用来异步加载资源，并设置必要的回调方法。</p>
<h2 id="Factory"><a href="#Factory" class="headerlink" title="Factory"></a>Factory</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">services.<span class="title function_">factory</span>(<span class="string">&#x27;Common&#x27;</span>, [<span class="string">&#x27;$http&#x27;</span>, <span class="string">&#x27;$q&#x27;</span>,</span><br><span class="line"><span class="keyword">function</span>(<span class="params">$http, $q</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">loadScript</span>: <span class="keyword">function</span>(<span class="params">url, callback</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> head = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">            script.<span class="title function_">setAttribute</span>(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;text/javascript&quot;</span>);</span><br><span class="line">            script.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>, url);</span><br><span class="line">            script.<span class="title function_">setAttribute</span>(<span class="string">&quot;async&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">            script.<span class="title function_">setAttribute</span>(<span class="string">&quot;defer&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">            head.<span class="title function_">appendChild</span>(script);</span><br><span class="line">            <span class="comment">//fuck ie! duck type</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">all</span>) &#123;</span><br><span class="line">                script.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> state = <span class="variable language_">this</span>.<span class="property">readyState</span>;</span><br><span class="line">                    <span class="keyword">if</span> (state === <span class="string">&#x27;loaded&#x27;</span> || state === <span class="string">&#x27;complete&#x27;</span>) &#123;</span><br><span class="line">                        callback &amp;&amp; <span class="title function_">callback</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//firefox, chrome</span></span><br><span class="line">                script.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    callback &amp;&amp; <span class="title function_">callback</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">loadCss</span>: <span class="keyword">function</span>(<span class="params">url</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> ele = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;link&#x27;</span>);</span><br><span class="line">            ele.<span class="property">href</span> = url;</span><br><span class="line">            ele.<span class="property">rel</span> = <span class="string">&#x27;stylesheet&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (ele.<span class="property">onload</span> == <span class="literal">null</span>) &#123;</span><br><span class="line">                ele.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ele.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            angular.<span class="title function_">element</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>)).<span class="title function_">prepend</span>(ele);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>

<p>通过绑定callback到 onload 事件来实现回调。</p>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">directives.<span class="title function_">directive</span>(<span class="string">&#x27;ueditor&#x27;</span>, [<span class="string">&#x27;Common&#x27;</span>, <span class="string">&#x27;$rootScope&#x27;</span>,</span><br><span class="line"><span class="keyword">function</span>(<span class="params">Common, $rootScope</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">restrict</span>: <span class="string">&#x27;EA&#x27;</span>,</span><br><span class="line">        <span class="attr">require</span>: <span class="string">&#x27;ngModel&#x27;</span>,</span><br><span class="line">        <span class="attr">link</span>: <span class="keyword">function</span>(<span class="params">scope, ele, attrs, ctrl</span>) &#123;</span><br><span class="line">            $rootScope.$emit(<span class="string">&#x27;loading&#x27;</span>, <span class="string">&#x27;初始化编辑器...&#x27;</span>); <span class="comment">//广播loading事件，可以删除</span></span><br><span class="line">            <span class="keyword">var</span> _self = <span class="variable language_">this</span>,</span><br><span class="line">            _initContent, editor, editorReady = <span class="literal">false</span>,</span><br><span class="line">            base = <span class="string">&#x27;/public/vendor/utf8_qiniu_ueditor-master&#x27;</span>,</span><br><span class="line">            <span class="comment">//ueditor目录</span></span><br><span class="line">            _id = attrs.<span class="property">ueditor</span>;</span><br><span class="line">            <span class="keyword">var</span> editorHandler = &#123;</span><br><span class="line">                <span class="attr">init</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="property">UEDITOR_HOME_URL</span> = base + <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">                    <span class="keyword">var</span> _self = <span class="variable language_">this</span>;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable constant_">UE</span> != <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">                        editor = <span class="variable constant_">UE</span>.<span class="title function_">getEditor</span>(_id, &#123;</span><br><span class="line">                            <span class="attr">toolbars</span>: [[<span class="string">&#x27;fontsize&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;blockquote&#x27;</span>, <span class="string">&#x27;horizontal&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;removeformat&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;insertimage&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;bold&#x27;</span>, <span class="string">&#x27;italic&#x27;</span>, <span class="string">&#x27;underline&#x27;</span>, <span class="string">&#x27;forecolor&#x27;</span>, <span class="string">&#x27;backcolor&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;justifyleft&#x27;</span>, <span class="string">&#x27;justifycenter&#x27;</span>, <span class="string">&#x27;justifyright&#x27;</span>, <span class="string">&#x27;justifyjustify&#x27;</span>, <span class="string">&#x27;rowspacingtop&#x27;</span>, <span class="string">&#x27;rowspacingbottom&#x27;</span>, <span class="string">&#x27;lineheight&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;insertorderedlist&#x27;</span>, <span class="string">&#x27;insertunorderedlist&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;link&#x27;</span>, <span class="string">&#x27;unlink&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;emotion&#x27;</span>]]</span><br><span class="line">                        &#125;);</span><br><span class="line">                        editor.<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                            editor.<span class="title function_">setHeight</span>(<span class="number">500</span>);</span><br><span class="line">                            editorReady = <span class="literal">true</span>;</span><br><span class="line">                            $rootScope.$emit(<span class="string">&#x27;loading&#x27;</span>, <span class="string">&#x27;&#x27;</span>); <span class="comment">//编辑器初始化完成</span></span><br><span class="line">                            editor.<span class="title function_">addListener</span>(<span class="string">&#x27;contentChange&#x27;</span>,</span><br><span class="line">                            <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">//双向绑定</span></span><br><span class="line">                                <span class="keyword">if</span> (!scope.<span class="property">$$phase</span>) &#123;</span><br><span class="line">                                    scope.$apply(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                                        ctrl.$setViewValue(editor.<span class="title function_">getContent</span>());</span><br><span class="line">                                    &#125;);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;);</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title class_">Common</span>.<span class="title function_">loadScript</span>(base + <span class="string">&#x27;/ueditor.config.js&#x27;</span>, <span class="literal">null</span>);</span><br><span class="line">                        <span class="title class_">Common</span>.<span class="title function_">loadScript</span>(base + <span class="string">&#x27;/ueditor.all.min.js&#x27;</span>,</span><br><span class="line">                        <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                            _self.<span class="title function_">init</span>();</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">setContent</span>: <span class="keyword">function</span>(<span class="params">content</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (editor &amp;&amp; editorReady) &#123;</span><br><span class="line">                        editor.<span class="title function_">setContent</span>(content);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            ctrl.<span class="property">$render</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                _initContent = ctrl.$isEmpty(ctrl.<span class="property">$viewValue</span>) ? <span class="string">&#x27;&#x27;</span>: ctrl.<span class="property">$viewValue</span>;</span><br><span class="line">                editorHandler.<span class="title function_">setContent</span>(_initContent); <span class="comment">//双向绑定</span></span><br><span class="line">            &#125;;</span><br><span class="line">            editorHandler.<span class="title function_">init</span>();</span><br><span class="line">            <span class="comment">//事件</span></span><br><span class="line">            $rootScope.$on(<span class="string">&#x27;$routeChangeStart&#x27;</span>,</span><br><span class="line">            <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                editor &amp;&amp; editor.<span class="title function_">destroy</span>();</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>

<p>由于angularjs无法自动获得编辑器内容，只能手动监听 contentChange事件来实现双向绑定。</p>
<h2 id="模板代码"><a href="#模板代码" class="headerlink" title="模板代码"></a>模板代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ueditor</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">ng-required</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ng-model</span>=<span class="string">&quot;material.content.content&quot;</span> <span class="attr">id</span>=<span class="string">&quot;editor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://og5r5kasb.qnssl.com/wp-content/uploads/2015/02/QQ%E6%88%AA%E5%9B%BE20150205191752.png" alt="效果图"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2015-01-30T03:43:01.000Z" title="1/30/2015, 3:43:01 AM">2015-01-30</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">a few seconds lesen (Über 53 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/01/30/2015-01-30-angularjs-online-music-player.html">基于angularjs的在线音乐播放器</a></p><div class="content"><h2 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h2><p><a target="_blank" rel="noopener" href="https://github.com/xialeistudio/angular-audio-player">https://github.com/xialeistudio/angular-audio-player</a></p>
<h2 id="在线demo"><a href="#在线demo" class="headerlink" title="在线demo"></a>在线demo</h2><p><a target="_blank" rel="noopener" href="http://ngdemo.sinaapp.com/audio/">http://ngdemo.sinaapp.com/audio/</a></p>
<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://og5r5kasb.qnssl.com/wp-content/uploads/2015/01/QQ%E6%88%AA%E5%9B%BE20150130194035.png" alt="效果图"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2014-12-19T17:12:28.000Z" title="12/19/2014, 5:12:28 PM">2014-12-20</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">a minute lesen (Über 218 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2014/12/19/2014-12-20-angularjs-ios-like-toggle.html">angularjs开发ios风格的toggle</a></p><div class="content"><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://og5r5kasb.qnssl.com/wp-content/uploads/2014/12/53441419037830.png" alt="效果图"></p>
<h2 id="HTML代码"><a href="#HTML代码" class="headerlink" title="HTML代码"></a>HTML代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;toggle-box&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;item.hide_remind = !item.hide_remind&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">ng-class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;:item.hide_remind,&#x27;&#x27;:!item.hide_remind&#125;&quot;</span> <span class="attr">ng-init</span>=<span class="string">&quot;item.hide_remind=0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;toggle-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;toggle-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-create</span> <span class="selector-class">.page-bd</span> <span class="selector-class">.container</span> <span class="selector-tag">form</span> <span class="selector-class">.form-group</span> <span class="selector-class">.toggle-box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">48px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-create</span> <span class="selector-class">.page-bd</span> <span class="selector-class">.container</span> <span class="selector-tag">form</span> <span class="selector-class">.form-group</span> <span class="selector-class">.toggle-box</span> <span class="selector-class">.toggle-container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">72px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#a8aeb3</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">24px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-create</span> <span class="selector-class">.page-bd</span> <span class="selector-class">.container</span> <span class="selector-tag">form</span> <span class="selector-class">.form-group</span> <span class="selector-class">.toggle-box</span> <span class="selector-class">.toggle-container</span> <span class="selector-class">.toggle-item</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">39px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">39px</span>;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">39px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">39px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">39px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all linear <span class="number">0.3s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all linear <span class="number">0.3s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all linear <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all linear <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-create</span> <span class="selector-class">.page-bd</span> <span class="selector-class">.container</span> <span class="selector-tag">form</span> <span class="selector-class">.form-group</span> <span class="selector-class">.toggle-box</span><span class="selector-class">.active</span> <span class="selector-class">.toggle-container</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#79e575</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-create</span> <span class="selector-class">.page-bd</span> <span class="selector-class">.container</span> <span class="selector-tag">form</span> <span class="selector-class">.form-group</span> <span class="selector-class">.toggle-box</span><span class="selector-class">.active</span> <span class="selector-class">.toggle-container</span> <span class="selector-class">.toggle-item</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">32px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>记得自己去掉不存在的容器（我是在项目中用的，有CSS层级限制）</p>
<h2 id="JS代码"><a href="#JS代码" class="headerlink" title="JS代码"></a>JS代码</h2><p>无</p>
<p>所有的操作都在html中实现的。<br>如果需要获取值，请获取<strong>item.hide_remind</strong>即可</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2014-12-19T03:35:34.000Z" title="12/19/2014, 3:35:34 AM">2014-12-19</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">2 minutes lesen (Über 243 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2014/12/19/2014-12-19-angularjs-loading.html">angularjs注入拦截器实现Loading效果</a></p><div class="content"><p>angularjs作为一个全ajax的框架，对于请求，如果页面上不做任何操作的话，在结果烦回来之前，页面是没有任何响应的，不像普通的HTTP请求，会有进度条之类。</p>
<p>本文通过对httpProvider注入拦截器实现loading。</p>
<h2 id="HTML代码"><a href="#HTML代码" class="headerlink" title="HTML代码"></a>HTML代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading-modal modal&quot;</span> <span class="attr">ng-if</span>=<span class="string">&quot;loading&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&lt;?=$this-&gt;module-&gt;getAssetsUrl()?&gt;/img/loading.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind</span>=<span class="string">&quot;loading_text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="LESS代码"><a href="#LESS代码" class="headerlink" title="LESS代码"></a>LESS代码</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.modal</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loading</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="selector-id">#solution</span>&gt; <span class="selector-class">.border-radius</span>(<span class="number">8px</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">72px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">36px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JS代码"><a href="#JS代码" class="headerlink" title="JS代码"></a>JS代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">config</span>([<span class="string">&quot;$routeProvider&quot;</span>, <span class="string">&quot;$httpProvider&quot;</span>, <span class="keyword">function</span> (<span class="params">$routeProvider, $httpProvider</span>) &#123;</span><br><span class="line">    $routeProvider.<span class="title function_">when</span>(<span class="string">&#x27;/&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">templateUrl</span>: <span class="string">&quot;/views/reminder/index.html&quot;</span>,</span><br><span class="line">        <span class="attr">controller</span>: <span class="string">&quot;IndexController&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $routeProvider.<span class="title function_">when</span>(<span class="string">&#x27;/create&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">templateUrl</span>: <span class="string">&quot;/views/reminder/item/create.html&quot;</span>,</span><br><span class="line">        <span class="attr">controller</span>: <span class="string">&quot;ItemCreateController&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $routeProvider.<span class="title function_">otherwise</span>(&#123;<span class="attr">redirectTo</span>: <span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">    $httpProvider.<span class="property">interceptors</span>.<span class="title function_">push</span>(<span class="string">&#x27;timestampMarker&#x27;</span>);</span><br><span class="line">&#125;]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//loading</span></span><br><span class="line">app.<span class="title function_">factory</span>(<span class="string">&#x27;timestampMarker&#x27;</span>, [<span class="string">&quot;$rootScope&quot;</span>, <span class="keyword">function</span> (<span class="params">$rootScope</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timestampMarker = &#123;</span><br><span class="line">        <span class="attr">request</span>: <span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">            $rootScope.<span class="property">loading</span> = <span class="literal">true</span>;</span><br><span class="line">            config.<span class="property">requestTimestamp</span> = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">            <span class="keyword">return</span> config;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">response</span>: <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">           <span class="comment">// $rootScope.loading = false;</span></span><br><span class="line">            response.<span class="property">config</span>.<span class="property">responseTimestamp</span> = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">            <span class="keyword">return</span> response;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> timestampMarker;</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>

<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://og5r5kasb.qnssl.com/wp-content/uploads/2014/12/C34B52AD-CEA0-4762-85A6-45B6869D757A.jpg" alt="效果图"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2014-11-15T02:04:02.000Z" title="11/15/2014, 2:04:02 AM">2014-11-15</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">2 minutes lesen (Über 270 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2014/11/15/2014-11-15-angularjs-empty-array.html">Angularjs处理后端空数据</a></p><div class="content"><p>Yii1.x DAO中的queryAll方法查询，如果有结果，会返回一个数组，如果没有结果，会返回null。现在分两种情况：</p>
<h2 id="返回空数组"><a href="#返回空数组" class="headerlink" title="返回空数组"></a>返回空数组</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$array</span> = <span class="keyword">array</span>(</span><br><span class="line">);</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>(<span class="variable">$array</span>);</span><br></pre></td></tr></table></figure>

<p>输出为</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<h2 id="返回null"><a href="#返回null" class="headerlink" title="返回null"></a>返回null</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$array</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>(<span class="variable">$array</span>);</span><br></pre></td></tr></table></figure>

<p>输出为</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal"><span class="keyword">null</span></span></span><br></pre></td></tr></table></figure>

<p>那么问题来了，JS接收这两个的结果是不同的。<br>如果使用以下代码判断数据:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(data.<span class="property">length</span> == <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="comment">//当前评论为空</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//当前评论不为空</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果返回   []  ，这段代码是生效的。但是如果返回 null ,这个就有问题了。</p>
<p>后来，使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(data == <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="comment">//评论为空</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//评论不为空</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个判断老是出问题，后端明明返回null了，判断还是错误的，这时候想到JS也是若类型语言，会不会是类型的问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> data)</span><br></pre></td></tr></table></figure>

<p>返回的是**”string”**<br>那么问题就解决了，用以下代码就可以了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(data.<span class="property">length</span> == <span class="number">0</span> || data == <span class="string">&quot;null&quot;</span>)&#123;</span><br><span class="line">    <span class="comment">//评论为空</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//评论不为空</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2014-11-14T05:00:41.000Z" title="11/14/2014, 5:00:41 AM">2014-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">a few seconds lesen (Über 103 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2014/11/14/2014-11-14-angularjs-traverse-empty-array.html">angularjs遍历空数组&amp;索引数组</a></p><div class="content"><p>今天做开发时发现控制老是报错，虽然不影响使用，但是作为有那么一点“强迫症”的我来说，无法忍受。通过调试发现是ng-repeat对一个空数组遍历出错，另外，[‘ab’,’cd’,’ad’]这样只有值没有键的数组也会遍历出错。</p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;media&quot;</span> <span class="attr">ng-repeat</span>=<span class="string">&quot;item in comments track by $index&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;media-body&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">time</span>&gt;</span><span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-if</span>=<span class="string">&quot;item.comment_author_url.length&gt;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-globe&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>特别注意<strong>track by $index</strong></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2014-10-10T19:37:48.000Z" title="10/10/2014, 7:37:48 PM">2014-10-11</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a><span> / </span><a class="link-muted" href="/categories/frontend/angularjs/">angularjs</a></span><span class="level-item">a minute lesen (Über 185 Wörter)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2014/10/10/2014-10-11-ng-repeat-get-parent-index.html">ng-repeat获取父级INDEX</a></p><div class="content"><p>angularjs的循环嵌套我就不多说了，无非是ng-repeat的嵌套而已，如果需要获取索引请使用$index。</p>
<p>那么问题来了，$index只能获取当前循环的索引，如果需要获取父级的索引怎么办？</p>
<p>原理其实也不难，在父级ng-repeat时利用ng-init写入一个变量即可，子循环是可以访问到的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">&quot;MainCtrl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dl</span> <span class="attr">ng-repeat</span>=<span class="string">&quot;user in users&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dt</span> <span class="attr">ng-init</span>=<span class="string">&quot;p_index=$index&quot;</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span> <span class="attr">ng-repeat</span>=<span class="string">&quot;p in user.posts&quot;</span>&gt;</span>父级INDEX: - </span><br><span class="line">        自己的INDEX:</span><br><span class="line">        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> site = angular.<span class="title function_">module</span>(<span class="string">&#x27;application.site&#x27;</span>, []);</span><br><span class="line">site.<span class="title function_">controller</span>(<span class="string">&#x27;MainCtrl&#x27;</span>, [<span class="string">&#x27;$scope&#x27;</span>, <span class="string">&#x27;$http&#x27;</span>, <span class="keyword">function</span> (<span class="params">$scope, $http</span>) &#123;</span><br><span class="line">    $scope.<span class="property">users</span> = [</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">&quot;xialei&quot;</span>,<span class="attr">posts</span>:[<span class="string">&quot;文章一&quot;</span>,<span class="string">&quot;文章二&quot;</span>,<span class="string">&quot;文章三&quot;</span>]&#125;,</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">&quot;zhangsan&quot;</span>,<span class="attr">posts</span>:[<span class="string">&quot;文章四&quot;</span>,<span class="string">&quot;文章五&quot;</span>]&#125;</span><br><span class="line">    ];</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>

<p>这里只是关键代码，用过angularjs的小伙伴们相信一眼就可以看懂了。</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/frontend/angularjs/">Zurück</a></div><div class="pagination-next"><a href="/categories/frontend/angularjs/page/3/">Weiter</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/frontend/angularjs/">1</a></li><li><a class="pagination-link is-current" href="/categories/frontend/angularjs/page/2/">2</a></li><li><a class="pagination-link" href="/categories/frontend/angularjs/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://static.ddhigh.com/blog/2019-09-18-094336.jpg" alt="XiaLei"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">XiaLei</p><p class="is-size-6 is-block">Senior Software Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Tencent</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Seiten</p><a href="/archives"><p class="title">306</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Kategorien</p><a href="/categories"><p class="title">25</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">38</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/xialeistudio"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/xialeidoc/"><i class="fa-brands fa-linkedin"></i></a></div></div></div><!--!--></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Learning &amp; Sharing</a><p class="is-size-7"><span>&copy; 2023 Xia Lei</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en-us");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="Zurück nach oben" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "Diese Website verwendet Cookies, um Ihre Erfahrung zu verbessern.",
          dismiss: "Verstanden!",
          allow: "Cookies zulassen",
          deny: "Ablehnen",
          link: "Mehr erfahren",
          policy: "Cookie-Richtlinie",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Tippen Sie etwas..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Tippen Sie etwas...","untitled":"(Ohne Titel)","posts":"Seiten","pages":"Pages","categories":"Kategorien","tags":"Tags"});
        });</script></body></html>